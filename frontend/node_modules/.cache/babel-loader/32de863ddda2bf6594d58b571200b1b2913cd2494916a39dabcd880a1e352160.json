{"ast":null,"code":"var _jsxFileName = \"E:\\\\School\\\\School\\\\Integrative Programming\\\\medical-appointment\\\\src\\\\components\\\\patient\\\\doctorprofile\\\\AppointmentForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Container, Row, Col, Button, Form, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { PassFill, CheckAll } from \"react-bootstrap-icons\";\nimport { Helmet } from \"react-helmet\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AppointmentForm({\n  pid,\n  did\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(1);\n  const [date, setDate] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [reason, setReason] = useState(\"\");\n  const [availableTimes, setAvailableTimes] = useState([]);\n  const [availability, setAvailability] = useState({});\n  const [doctorName, setDoctorName] = useState(\"\");\n  const [doctorServices, setDoctorServices] = useState([]);\n  const [selectedServices, setSelectedServices] = useState([]);\n  useEffect(() => {\n    // Fetch doctor's services, availability, and name\n    axios.get(`http://localhost:8000/doctor/${did}`).then(response => {\n      const doctor = response.data.doctor;\n      setDoctorName(`${doctor.dr_firstName} ${doctor.dr_lastName}`);\n      setDoctorServices(doctor.dr_services || []);\n      setAvailability(doctor.availability || {});\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [did]);\n  const formatTicketDate = dateString => {\n    const date = new Date(dateString);\n    const day = String(date.getDate()).padStart(2, '0'); // Get day\n    const dayOfWeek = date.toLocaleString('default', {\n      weekday: 'short'\n    }); // Get weekday abbreviation (e.g., Sat)\n    const month = date.toLocaleString('default', {\n      month: 'long'\n    }); // Get full month name (e.g., September)\n    const year = date.getFullYear(); // Get year\n\n    return {\n      day,\n      dayOfWeek,\n      month,\n      year\n    };\n  };\n  const formatTime = timeString => {\n    if (!timeString) return \"\"; // Handle cases where time is not provided or is invalid\n\n    // Split the time string into hours and minutes (handle both \"HH:MM\" and \"HH:MM:SS\")\n    const [hours, minutes] = timeString.split(':');\n    const time = new Date();\n    time.setHours(hours);\n    time.setMinutes(minutes);\n\n    // Return the time in 12-hour format with AM/PM\n    return time.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n  useEffect(() => {\n    if (date) {\n      const selectedDate = new Date(date);\n      const daysOfWeek = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"];\n      const day = daysOfWeek[selectedDate.getDay()];\n      setAvailableTimes(getAvailableTimes(day));\n    } else {\n      setAvailableTimes([]);\n    }\n  }, [date, availability]);\n  const getAvailableTimes = day => {\n    var _dayAvailability$morn, _dayAvailability$afte;\n    const dayAvailability = availability[day];\n    if (!dayAvailability) return [];\n    let times = [];\n    if ((_dayAvailability$morn = dayAvailability.morning) !== null && _dayAvailability$morn !== void 0 && _dayAvailability$morn.available) {\n      // Convert both start and end times to 12-hour format\n      const startTime = formatTime(dayAvailability.morning.startTime);\n      const endTime = formatTime(dayAvailability.morning.endTime);\n      times.push({\n        label: \"Morning\",\n        timeRange: `${startTime} - ${endTime}`\n      });\n    }\n    if ((_dayAvailability$afte = dayAvailability.afternoon) !== null && _dayAvailability$afte !== void 0 && _dayAvailability$afte.available) {\n      // Convert both start and end times to 12-hour format\n      const startTime = formatTime(dayAvailability.afternoon.startTime);\n      const endTime = formatTime(dayAvailability.afternoon.endTime);\n      times.push({\n        label: \"Afternoon\",\n        timeRange: `${startTime} - ${endTime}`\n      });\n    }\n    return times;\n  };\n  const handleServiceChange = serviceId => {\n    setSelectedServices(prevSelected => prevSelected.includes(serviceId) ? prevSelected.filter(id => id !== serviceId) : [...prevSelected, serviceId]);\n  };\n  const createAppointment = () => {\n    if (!time || !selectedServices.length) {\n      window.alert(\"Please select a valid time and service for the appointment.\");\n      return;\n    }\n    const formData = {\n      doctorId: did,\n      date,\n      time,\n      reason,\n      appointment_type: selectedServices\n    };\n    axios.post(`http://localhost:8000/patient/api/${pid}/createappointment`, formData).then(() => {\n      window.alert(\"Created an appointment!\");\n      navigate(`/myappointment`, {\n        state: {\n          pid\n        }\n      });\n    }).catch(err => {\n      if (err.response) {\n        window.alert(`Error: ${err.response.data.message}`);\n      } else {\n        window.alert(\"An error occurred while creating the appointment.\");\n      }\n    });\n  };\n  const getTodayDate = () => {\n    const today = new Date();\n    return today.toISOString().split(\"T\")[0];\n  };\n  const handleNextStep = () => {\n    if (step === 1 && (!date || !time || !reason || selectedServices.length === 0)) {\n      window.alert(\"Please fill out all fields.\");\n      return;\n    }\n    setStep(step + 1);\n  };\n  const handlePrevStep = () => {\n    setStep(step - 1);\n  };\n  const todayDate = getTodayDate();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Molino Care | Patient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"appointment-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"m-0\",\n          style: {\n            fontWeight: '600',\n            fontSize: '20px'\n          },\n          children: \"Book an Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"pt-2 pb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x padding-bottom-1x\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `step ${step >= 1 ? \"completed\" : \"\"} ${step === 1 ? \"active\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"step-icon-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"step-icon\",\n                children: /*#__PURE__*/_jsxDEV(PassFill, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"step-title\",\n              children: \"Fill Out the Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `step ${step === 2 ? \"completed\" : \"\"} ${step === 2 ? \"active\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"step-icon-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"step-icon\",\n                children: /*#__PURE__*/_jsxDEV(CheckAll, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"step-title\",\n              children: \"Finalizing Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Step 1: Fill Out the Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  as: Col,\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    style: {\n                      fontWeight: '600'\n                    },\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"date\",\n                    placeholder: \"Enter Date\",\n                    min: todayDate,\n                    value: date,\n                    onChange: e => setDate(e.target.value),\n                    className: \"form-appointment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), availableTimes.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-5 \",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  className: \"m-0 \",\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n                  children: availableTimes.map((timeSlot, index) => /*#__PURE__*/_jsxDEV(Button, {\n                    variant: time === timeSlot.timeRange ? \"secondary\" : \"outline-primary\",\n                    onClick: () => setTime(timeSlot.timeRange),\n                    className: \"m-1\",\n                    children: [timeSlot.label, \": \", timeSlot.timeRange]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Alert, {\n                  children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"m-0\",\n                    children: \"The doctor has no available appointments for this day.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  children: \"Select Services: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: doctorServices.map(service => /*#__PURE__*/_jsxDEV(Form.Check, {\n                    type: \"checkbox\",\n                    label: service.name,\n                    value: service.name,\n                    onChange: () => handleServiceChange(service.name),\n                    checked: selectedServices.includes(service.name)\n                  }, service._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  children: \"Primary Concern\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  placeholder: \"Enter Reason\",\n                  value: reason,\n                  onChange: e => setReason(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Step 2: Finalizing Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ticket-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ticket-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ticket-left\",\n                children: [date && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(Container, {\n                    className: \"pt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"ticket-month\",\n                      children: formatTicketDate(date).month\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"ticket-num\",\n                      children: formatTicketDate(date).day\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"ticket-month\",\n                      children: formatTicketDate(date).dayOfWeek\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ticket-up-border\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ticket-down-border\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ticket-right\",\n                children: [/*#__PURE__*/_jsxDEV(Container, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"ticket-event\",\n                    children: \"Appointment Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Container, {\n                  className: \"d-flex align-items-center m-0 pb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ticket-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-table\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0 px-2\",\n                    children: [formatTicketDate(date).month, \" \", formatTicketDate(date).day, \", \", formatTicketDate(date).year, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 137\n                    }, this), \" \", time]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Container, {\n                  className: \"d-flex align-items-center m-0 pb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ticket-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-info-circle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0 px-2 \",\n                    children: [\"Primary Concern: \", reason]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fix\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Container, {\n                  className: \"d-flex align-items-center m-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ticket-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-stethoscope\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0 px-2\",\n                    children: [\"Services: \", selectedServices.join(\", \")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mt-4\",\n        children: [step > 1 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handlePrevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), step < 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex w-100 justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleNextStep,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this), step === 2 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: createAppointment,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(AppointmentForm, \"TsEI5o/ggF7V8lKkDvWNmc+EyZY=\", false, function () {\n  return [useNavigate];\n});\n_c = AppointmentForm;\nexport default AppointmentForm;\nvar _c;\n$RefreshReg$(_c, \"AppointmentForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Container","Row","Col","Button","Form","Alert","axios","PassFill","CheckAll","Helmet","jsxDEV","_jsxDEV","Fragment","_Fragment","AppointmentForm","pid","did","_s","navigate","step","setStep","date","setDate","time","setTime","reason","setReason","availableTimes","setAvailableTimes","availability","setAvailability","doctorName","setDoctorName","doctorServices","setDoctorServices","selectedServices","setSelectedServices","get","then","response","doctor","data","dr_firstName","dr_lastName","dr_services","catch","err","console","log","formatTicketDate","dateString","Date","day","String","getDate","padStart","dayOfWeek","toLocaleString","weekday","month","year","getFullYear","formatTime","timeString","hours","minutes","split","setHours","setMinutes","toLocaleTimeString","hour","minute","hour12","selectedDate","daysOfWeek","getDay","getAvailableTimes","_dayAvailability$morn","_dayAvailability$afte","dayAvailability","times","morning","available","startTime","endTime","push","label","timeRange","afternoon","handleServiceChange","serviceId","prevSelected","includes","filter","id","createAppointment","length","window","alert","formData","doctorId","appointment_type","post","state","message","getTodayDate","today","toISOString","handleNextStep","handlePrevStep","todayDate","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","fontWeight","fontSize","size","Group","as","Label","Control","type","placeholder","min","value","onChange","e","target","map","timeSlot","index","variant","onClick","service","Check","name","checked","_id","join","_c","$RefreshReg$"],"sources":["E:/School/School/Integrative Programming/medical-appointment/src/components/patient/doctorprofile/AppointmentForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Container, Row, Col, Button, Form, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { PassFill, CheckAll } from \"react-bootstrap-icons\";\r\nimport { Helmet } from \"react-helmet\";\r\nfunction AppointmentForm({pid , did}) {\r\n  const navigate = useNavigate();\r\n\r\n  const [step, setStep] = useState(1);\r\n  const [date, setDate] = useState(\"\");\r\n  const [time, setTime] = useState(\"\");\r\n  const [reason, setReason] = useState(\"\");\r\n  const [availableTimes, setAvailableTimes] = useState([]);\r\n  const [availability, setAvailability] = useState({});\r\n  const [doctorName, setDoctorName] = useState(\"\");\r\n  const [doctorServices, setDoctorServices] = useState([]);\r\n  const [selectedServices, setSelectedServices] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch doctor's services, availability, and name\r\n    axios\r\n      .get(`http://localhost:8000/doctor/${did}`)\r\n      .then((response) => {\r\n        const doctor = response.data.doctor;\r\n        setDoctorName(`${doctor.dr_firstName} ${doctor.dr_lastName}`);\r\n        setDoctorServices(doctor.dr_services || []);\r\n        setAvailability(doctor.availability || {});\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [did]);\r\n\r\n  const formatTicketDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n  \r\n    const day = String(date.getDate()).padStart(2, '0'); // Get day\r\n    const dayOfWeek = date.toLocaleString('default', { weekday: 'short' }); // Get weekday abbreviation (e.g., Sat)\r\n    const month = date.toLocaleString('default', { month: 'long' }); // Get full month name (e.g., September)\r\n    const year = date.getFullYear(); // Get year\r\n  \r\n    return { day, dayOfWeek, month, year };\r\n  };\r\n  \r\n  const formatTime = (timeString) => {\r\n    if (!timeString) return \"\"; // Handle cases where time is not provided or is invalid\r\n  \r\n    // Split the time string into hours and minutes (handle both \"HH:MM\" and \"HH:MM:SS\")\r\n    const [hours, minutes] = timeString.split(':');\r\n    const time = new Date();\r\n    time.setHours(hours);\r\n    time.setMinutes(minutes);\r\n  \r\n    // Return the time in 12-hour format with AM/PM\r\n    return time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: true });\r\n  };\r\n  \r\n  \r\n  \r\n  \r\n\r\n  useEffect(() => {\r\n    if (date) {\r\n      const selectedDate = new Date(date);\r\n      const daysOfWeek = [\r\n        \"sunday\",\r\n        \"monday\",\r\n        \"tuesday\",\r\n        \"wednesday\",\r\n        \"thursday\",\r\n        \"friday\",\r\n        \"saturday\",\r\n      ];\r\n      const day = daysOfWeek[selectedDate.getDay()];\r\n      setAvailableTimes(getAvailableTimes(day));\r\n    } else {\r\n      setAvailableTimes([]);\r\n    }\r\n  }, [date, availability]);\r\n\r\n  const getAvailableTimes = (day) => {\r\n    const dayAvailability = availability[day];\r\n    if (!dayAvailability) return [];\r\n  \r\n    let times = [];\r\n    if (dayAvailability.morning?.available) {\r\n      // Convert both start and end times to 12-hour format\r\n      const startTime = formatTime(dayAvailability.morning.startTime);\r\n      const endTime = formatTime(dayAvailability.morning.endTime);\r\n  \r\n      times.push({\r\n        label: \"Morning\",\r\n        timeRange: `${startTime} - ${endTime}`,\r\n      });\r\n    }\r\n    if (dayAvailability.afternoon?.available) {\r\n      // Convert both start and end times to 12-hour format\r\n      const startTime = formatTime(dayAvailability.afternoon.startTime);\r\n      const endTime = formatTime(dayAvailability.afternoon.endTime);\r\n  \r\n      times.push({\r\n        label: \"Afternoon\",\r\n        timeRange: `${startTime} - ${endTime}`,\r\n      });\r\n    }\r\n    return times;\r\n  };\r\n  \r\n\r\n  const handleServiceChange = (serviceId) => {\r\n    setSelectedServices((prevSelected) =>\r\n      prevSelected.includes(serviceId)\r\n        ? prevSelected.filter((id) => id !== serviceId)\r\n        : [...prevSelected, serviceId]\r\n    );\r\n  };\r\n\r\n  const createAppointment = () => {\r\n    if (!time || !selectedServices.length) {\r\n      window.alert(\"Please select a valid time and service for the appointment.\");\r\n      return;\r\n    }\r\n\r\n    const formData = {\r\n      doctorId: did,\r\n      date,\r\n      time,\r\n      reason,\r\n      appointment_type: selectedServices,\r\n    };\r\n\r\n    axios\r\n      .post(`http://localhost:8000/patient/api/${pid}/createappointment`, formData)\r\n      .then(() => {\r\n        window.alert(\"Created an appointment!\");\r\n        navigate(`/myappointment`, { state: { pid } });\r\n      })\r\n      .catch((err) => {\r\n        if (err.response) {\r\n          window.alert(`Error: ${err.response.data.message}`);\r\n        } else {\r\n          window.alert(\"An error occurred while creating the appointment.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const getTodayDate = () => {\r\n    const today = new Date();\r\n    return today.toISOString().split(\"T\")[0];\r\n  };\r\n\r\n  const handleNextStep = () => {\r\n    if (\r\n      step === 1 &&\r\n      (!date || !time || !reason || selectedServices.length === 0)\r\n    ) {\r\n      window.alert(\"Please fill out all fields.\");\r\n      return;\r\n    }\r\n    setStep(step + 1);\r\n  };\r\n\r\n  const handlePrevStep = () => {\r\n    setStep(step - 1);\r\n  };\r\n\r\n  const todayDate = getTodayDate();\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Molino Care | Patient</title>\r\n      </Helmet>\r\n      <Container className=\"appointment-form-container\">\r\n       \r\n        <div className=\"d-flex\">\r\n          <p className=\"m-0\" style={{fontWeight:'600', fontSize:'20px'}}>Book an Appointment</p>\r\n       \r\n        </div>\r\n        <hr/>\r\n        \r\n\r\n        <Container className=\"pt-2 pb-3\">\r\n          <div className=\"mt-3 steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x padding-bottom-1x\">\r\n            <div\r\n              className={`step ${step >= 1 ? \"completed\" : \"\"} ${\r\n                step === 1 ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"step-icon-wrap\">\r\n                <div className=\"step-icon\">\r\n                  <PassFill size={20} />\r\n                </div>\r\n              </div>\r\n              <h4 className=\"step-title\">Fill Out the Form</h4>\r\n            </div>\r\n            <div\r\n              className={`step ${step === 2 ? \"completed\" : \"\"} ${\r\n                step === 2 ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"step-icon-wrap\">\r\n                <div className=\"step-icon\">\r\n                  <CheckAll size={20} />\r\n                </div>\r\n              </div>\r\n              <h4 className=\"step-title\">Finalizing Information</h4>\r\n            </div>\r\n          </div>\r\n\r\n        </Container>\r\n        \r\n\r\n        {step === 1 && (\r\n          <div>\r\n            <h6>Step 1: Fill Out the Form</h6>\r\n\r\n            <Container>\r\n\r\n           \r\n            <Form>\r\n              <Row>\r\n                <Col>\r\n                <Form.Group as={Col} className=\"mb-3\">\r\n                  <Form.Label style={{fontWeight:'600'}} >Date</Form.Label>\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    placeholder=\"Enter Date\"\r\n                    min={todayDate}\r\n                    value={date}\r\n                    onChange={(e) => setDate(e.target.value)}\r\n                    className=\"form-appointment\"\r\n                  />\r\n                </Form.Group>\r\n                \r\n                </Col>\r\n\r\n              </Row>\r\n\r\n              {availableTimes.length > 0 ? (\r\n                <Row>\r\n                  <Form.Group as={Col} className=\"mb-5 \">\r\n                    <Form.Label style={{fontWeight:'600'}} className=\"m-0 \">Time</Form.Label>\r\n                    <center>\r\n                      {availableTimes.map((timeSlot, index) => (\r\n                        <Button\r\n                          key={index}\r\n                          variant={\r\n                            time === timeSlot.timeRange\r\n                              ? \"secondary\"\r\n                              : \"outline-primary\"\r\n                          }\r\n                          onClick={() => setTime(timeSlot.timeRange)}\r\n                          className=\"m-1\"\r\n                        >\r\n                          {timeSlot.label}: {timeSlot.timeRange}\r\n                        </Button>\r\n                      ))}\r\n                    </center>\r\n                  </Form.Group>\r\n                </Row>\r\n              ) : (\r\n                <Row>\r\n                  <Form.Group as={Col} className=\"mb-3\">\r\n                    <Form.Label style={{fontWeight:'600'}}>Time</Form.Label>\r\n                    <Alert>\r\n                   \r\n                        <h6 className=\"m-0\">The doctor has no available appointments for this day.</h6>\r\n                      \r\n                    </Alert>\r\n                      \r\n              \r\n                  \r\n                  </Form.Group>\r\n                </Row>\r\n              )}\r\n\r\n              \r\n\r\n              {/* Add doctor's services as checkboxes */}\r\n              <Row>\r\n                <Form.Group as={Col} className=\"mb-3\">\r\n                  <Form.Label style={{fontWeight:'600'}}>Select Services: </Form.Label>\r\n                  <div>\r\n                    {doctorServices.map((service) => (\r\n                      <Form.Check\r\n                        key={service._id}\r\n                        type=\"checkbox\"\r\n                        label={service.name}\r\n                        value={service.name}\r\n                        onChange={() => handleServiceChange(service.name)}\r\n                        checked={selectedServices.includes(service.name)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </Form.Group>\r\n\r\n               \r\n                <Form.Group as={Col} className=\"mb-3\">\r\n                  <Form.Label style={{fontWeight:'600'}}>Primary Concern</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    placeholder=\"Enter Reason\"\r\n                    value={reason}\r\n                    onChange={(e) => setReason(e.target.value)}\r\n                  />\r\n                </Form.Group>\r\n          \r\n              </Row>\r\n\r\n             \r\n            </Form>\r\n            </Container>\r\n          </div>\r\n        )}\r\n\r\n        {step === 2 && (\r\n          <>\r\n          <h6 >Step 2: Finalizing Information</h6>\r\n          <Container >\r\n            \r\n            <div className=\"ticket-container\">\r\n              <div className=\"ticket-item\">\r\n                <div className=\"ticket-left\">\r\n                  {/* Format the date with the helper function */}\r\n                  {date && (\r\n                    <>\r\n                    <Container className=\"pt-4\">\r\n                      <p className=\"ticket-month\">{formatTicketDate(date).month}</p>\r\n                      <h2 className=\"ticket-num\">{formatTicketDate(date).day}</h2>\r\n                      <p className=\"ticket-month\">{formatTicketDate(date).dayOfWeek}</p>\r\n                      \r\n                    </Container>\r\n                    </>\r\n                  )}\r\n                  <span className=\"ticket-up-border\"></span>\r\n                  <span className=\"ticket-down-border\"></span>\r\n                </div>\r\n                <div className=\"ticket-right\">\r\n                  <Container>\r\n                    <p className=\"ticket-event\">Appointment Details</p>\r\n                    <hr/>\r\n                  </Container>\r\n                  \r\n                  <Container className=\"d-flex align-items-center m-0 pb-3\">\r\n                    <div className=\"ticket-icon\">\r\n                      <i className=\"fa fa-table\"></i>\r\n                    </div>\r\n                    <p  className=\"m-0 px-2\">{formatTicketDate(date).month} {formatTicketDate(date).day}, {formatTicketDate(date).year} <br /> {time}</p>\r\n                  </Container>\r\n\r\n                  <Container  className=\"d-flex align-items-center m-0 pb-3\">\r\n                    <div className=\"ticket-icon\">\r\n                      <i className=\"fa fa-info-circle\"></i>\r\n                    </div>\r\n                    <p  className=\"m-0 px-2 \">Primary Concern: {reason}</p>\r\n                  </Container>\r\n\r\n                  <div className=\"fix\"></div>\r\n                  <Container className=\"d-flex align-items-center m-0\">\r\n                    <div className=\"ticket-icon\">\r\n                      <i className=\"fa fa-stethoscope\"></i>\r\n                    </div>\r\n                    <p className=\"m-0 px-2\">Services: {selectedServices.join(\", \")}</p>\r\n                  </Container>\r\n                </div> \r\n              </div>\r\n            </div>\r\n          </Container>\r\n          </>)}\r\n\r\n\r\n\r\n        <div className=\"d-flex justify-content-between mt-4\">\r\n          {step > 1 && (\r\n            <Button variant=\"secondary\" onClick={handlePrevStep}>\r\n              Previous\r\n            </Button>\r\n          )}\r\n          {step < 2 && (\r\n            <div className=\"d-flex w-100 justify-content-end\">\r\n          <Button variant=\"primary\" onClick={handleNextStep}>\r\n                        Next\r\n                      </Button>\r\n            </div>\r\n           \r\n          )}\r\n          {step === 2 && (\r\n            <Button variant=\"success\" onClick={createAppointment}>\r\n              Submit\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AppointmentForm;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,KAAK,QAAQ,iBAAiB;AAC1E,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,uBAAuB;AAC1D,SAASC,MAAM,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACtC,SAASC,eAAeA,CAAC;EAACC,GAAG;EAAGC;AAAG,CAAC,EAAE;EAAAC,EAAA;EACpC,MAAMC,QAAQ,GAAGpB,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACyB,IAAI,EAAEC,OAAO,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC2B,IAAI,EAAEC,OAAO,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC6B,MAAM,EAAEC,SAAS,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC+B,cAAc,EAAEC,iBAAiB,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACiC,YAAY,EAAEC,eAAe,CAAC,GAAGlC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpD,MAAM,CAACmC,UAAU,EAAEC,aAAa,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACqC,cAAc,EAAEC,iBAAiB,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACuC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAE5DC,SAAS,CAAC,MAAM;IACd;IACAS,KAAK,CACF+B,GAAG,CAAC,gCAAgCrB,GAAG,EAAE,CAAC,CAC1CsB,IAAI,CAAEC,QAAQ,IAAK;MAClB,MAAMC,MAAM,GAAGD,QAAQ,CAACE,IAAI,CAACD,MAAM;MACnCR,aAAa,CAAC,GAAGQ,MAAM,CAACE,YAAY,IAAIF,MAAM,CAACG,WAAW,EAAE,CAAC;MAC7DT,iBAAiB,CAACM,MAAM,CAACI,WAAW,IAAI,EAAE,CAAC;MAC3Cd,eAAe,CAACU,MAAM,CAACX,YAAY,IAAI,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC,CACDgB,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACN,CAAC,EAAE,CAAC9B,GAAG,CAAC,CAAC;EAET,MAAMiC,gBAAgB,GAAIC,UAAU,IAAK;IACvC,MAAM7B,IAAI,GAAG,IAAI8B,IAAI,CAACD,UAAU,CAAC;IAEjC,MAAME,GAAG,GAAGC,MAAM,CAAChC,IAAI,CAACiC,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACrD,MAAMC,SAAS,GAAGnC,IAAI,CAACoC,cAAc,CAAC,SAAS,EAAE;MAAEC,OAAO,EAAE;IAAQ,CAAC,CAAC,CAAC,CAAC;IACxE,MAAMC,KAAK,GAAGtC,IAAI,CAACoC,cAAc,CAAC,SAAS,EAAE;MAAEE,KAAK,EAAE;IAAO,CAAC,CAAC,CAAC,CAAC;IACjE,MAAMC,IAAI,GAAGvC,IAAI,CAACwC,WAAW,CAAC,CAAC,CAAC,CAAC;;IAEjC,OAAO;MAAET,GAAG;MAAEI,SAAS;MAAEG,KAAK;MAAEC;IAAK,CAAC;EACxC,CAAC;EAED,MAAME,UAAU,GAAIC,UAAU,IAAK;IACjC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAE,CAAC,CAAC;;IAE5B;IACA,MAAM,CAACC,KAAK,EAAEC,OAAO,CAAC,GAAGF,UAAU,CAACG,KAAK,CAAC,GAAG,CAAC;IAC9C,MAAM3C,IAAI,GAAG,IAAI4B,IAAI,CAAC,CAAC;IACvB5B,IAAI,CAAC4C,QAAQ,CAACH,KAAK,CAAC;IACpBzC,IAAI,CAAC6C,UAAU,CAACH,OAAO,CAAC;;IAExB;IACA,OAAO1C,IAAI,CAAC8C,kBAAkB,CAAC,EAAE,EAAE;MAAEC,IAAI,EAAE,SAAS;MAAEC,MAAM,EAAE,SAAS;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;EAC1F,CAAC;EAMD3E,SAAS,CAAC,MAAM;IACd,IAAIwB,IAAI,EAAE;MACR,MAAMoD,YAAY,GAAG,IAAItB,IAAI,CAAC9B,IAAI,CAAC;MACnC,MAAMqD,UAAU,GAAG,CACjB,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,WAAW,EACX,UAAU,EACV,QAAQ,EACR,UAAU,CACX;MACD,MAAMtB,GAAG,GAAGsB,UAAU,CAACD,YAAY,CAACE,MAAM,CAAC,CAAC,CAAC;MAC7C/C,iBAAiB,CAACgD,iBAAiB,CAACxB,GAAG,CAAC,CAAC;IAC3C,CAAC,MAAM;MACLxB,iBAAiB,CAAC,EAAE,CAAC;IACvB;EACF,CAAC,EAAE,CAACP,IAAI,EAAEQ,YAAY,CAAC,CAAC;EAExB,MAAM+C,iBAAiB,GAAIxB,GAAG,IAAK;IAAA,IAAAyB,qBAAA,EAAAC,qBAAA;IACjC,MAAMC,eAAe,GAAGlD,YAAY,CAACuB,GAAG,CAAC;IACzC,IAAI,CAAC2B,eAAe,EAAE,OAAO,EAAE;IAE/B,IAAIC,KAAK,GAAG,EAAE;IACd,KAAAH,qBAAA,GAAIE,eAAe,CAACE,OAAO,cAAAJ,qBAAA,eAAvBA,qBAAA,CAAyBK,SAAS,EAAE;MACtC;MACA,MAAMC,SAAS,GAAGrB,UAAU,CAACiB,eAAe,CAACE,OAAO,CAACE,SAAS,CAAC;MAC/D,MAAMC,OAAO,GAAGtB,UAAU,CAACiB,eAAe,CAACE,OAAO,CAACG,OAAO,CAAC;MAE3DJ,KAAK,CAACK,IAAI,CAAC;QACTC,KAAK,EAAE,SAAS;QAChBC,SAAS,EAAE,GAAGJ,SAAS,MAAMC,OAAO;MACtC,CAAC,CAAC;IACJ;IACA,KAAAN,qBAAA,GAAIC,eAAe,CAACS,SAAS,cAAAV,qBAAA,eAAzBA,qBAAA,CAA2BI,SAAS,EAAE;MACxC;MACA,MAAMC,SAAS,GAAGrB,UAAU,CAACiB,eAAe,CAACS,SAAS,CAACL,SAAS,CAAC;MACjE,MAAMC,OAAO,GAAGtB,UAAU,CAACiB,eAAe,CAACS,SAAS,CAACJ,OAAO,CAAC;MAE7DJ,KAAK,CAACK,IAAI,CAAC;QACTC,KAAK,EAAE,WAAW;QAClBC,SAAS,EAAE,GAAGJ,SAAS,MAAMC,OAAO;MACtC,CAAC,CAAC;IACJ;IACA,OAAOJ,KAAK;EACd,CAAC;EAGD,MAAMS,mBAAmB,GAAIC,SAAS,IAAK;IACzCtD,mBAAmB,CAAEuD,YAAY,IAC/BA,YAAY,CAACC,QAAQ,CAACF,SAAS,CAAC,GAC5BC,YAAY,CAACE,MAAM,CAAEC,EAAE,IAAKA,EAAE,KAAKJ,SAAS,CAAC,GAC7C,CAAC,GAAGC,YAAY,EAAED,SAAS,CACjC,CAAC;EACH,CAAC;EAED,MAAMK,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAI,CAACxE,IAAI,IAAI,CAACY,gBAAgB,CAAC6D,MAAM,EAAE;MACrCC,MAAM,CAACC,KAAK,CAAC,6DAA6D,CAAC;MAC3E;IACF;IAEA,MAAMC,QAAQ,GAAG;MACfC,QAAQ,EAAEpF,GAAG;MACbK,IAAI;MACJE,IAAI;MACJE,MAAM;MACN4E,gBAAgB,EAAElE;IACpB,CAAC;IAED7B,KAAK,CACFgG,IAAI,CAAC,qCAAqCvF,GAAG,oBAAoB,EAAEoF,QAAQ,CAAC,CAC5E7D,IAAI,CAAC,MAAM;MACV2D,MAAM,CAACC,KAAK,CAAC,yBAAyB,CAAC;MACvChF,QAAQ,CAAC,gBAAgB,EAAE;QAAEqF,KAAK,EAAE;UAAExF;QAAI;MAAE,CAAC,CAAC;IAChD,CAAC,CAAC,CACD8B,KAAK,CAAEC,GAAG,IAAK;MACd,IAAIA,GAAG,CAACP,QAAQ,EAAE;QAChB0D,MAAM,CAACC,KAAK,CAAC,UAAUpD,GAAG,CAACP,QAAQ,CAACE,IAAI,CAAC+D,OAAO,EAAE,CAAC;MACrD,CAAC,MAAM;QACLP,MAAM,CAACC,KAAK,CAAC,mDAAmD,CAAC;MACnE;IACF,CAAC,CAAC;EACN,CAAC;EAED,MAAMO,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,KAAK,GAAG,IAAIvD,IAAI,CAAC,CAAC;IACxB,OAAOuD,KAAK,CAACC,WAAW,CAAC,CAAC,CAACzC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC1C,CAAC;EAED,MAAM0C,cAAc,GAAGA,CAAA,KAAM;IAC3B,IACEzF,IAAI,KAAK,CAAC,KACT,CAACE,IAAI,IAAI,CAACE,IAAI,IAAI,CAACE,MAAM,IAAIU,gBAAgB,CAAC6D,MAAM,KAAK,CAAC,CAAC,EAC5D;MACAC,MAAM,CAACC,KAAK,CAAC,6BAA6B,CAAC;MAC3C;IACF;IACA9E,OAAO,CAACD,IAAI,GAAG,CAAC,CAAC;EACnB,CAAC;EAED,MAAM0F,cAAc,GAAGA,CAAA,KAAM;IAC3BzF,OAAO,CAACD,IAAI,GAAG,CAAC,CAAC;EACnB,CAAC;EAED,MAAM2F,SAAS,GAAGL,YAAY,CAAC,CAAC;EAEhC,oBACE9F,OAAA,CAAAE,SAAA;IAAAkG,QAAA,gBACEpG,OAAA,CAACF,MAAM;MAAAsG,QAAA,eACLpG,OAAA;QAAAoG,QAAA,EAAO;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B,CAAC,eACTxG,OAAA,CAACX,SAAS;MAACoH,SAAS,EAAC,4BAA4B;MAAAL,QAAA,gBAE/CpG,OAAA;QAAKyG,SAAS,EAAC,QAAQ;QAAAL,QAAA,eACrBpG,OAAA;UAAGyG,SAAS,EAAC,KAAK;UAACC,KAAK,EAAE;YAACC,UAAU,EAAC,KAAK;YAAEC,QAAQ,EAAC;UAAM,CAAE;UAAAR,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEnF,CAAC,eACNxG,OAAA;QAAAqG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGLxG,OAAA,CAACX,SAAS;QAACoH,SAAS,EAAC,WAAW;QAAAL,QAAA,eAC9BpG,OAAA;UAAKyG,SAAS,EAAC,qGAAqG;UAAAL,QAAA,gBAClHpG,OAAA;YACEyG,SAAS,EAAE,QAAQjG,IAAI,IAAI,CAAC,GAAG,WAAW,GAAG,EAAE,IAC7CA,IAAI,KAAK,CAAC,GAAG,QAAQ,GAAG,EAAE,EACzB;YAAA4F,QAAA,gBAEHpG,OAAA;cAAKyG,SAAS,EAAC,gBAAgB;cAAAL,QAAA,eAC7BpG,OAAA;gBAAKyG,SAAS,EAAC,WAAW;gBAAAL,QAAA,eACxBpG,OAAA,CAACJ,QAAQ;kBAACiH,IAAI,EAAE;gBAAG;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNxG,OAAA;cAAIyG,SAAS,EAAC,YAAY;cAAAL,QAAA,EAAC;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACNxG,OAAA;YACEyG,SAAS,EAAE,QAAQjG,IAAI,KAAK,CAAC,GAAG,WAAW,GAAG,EAAE,IAC9CA,IAAI,KAAK,CAAC,GAAG,QAAQ,GAAG,EAAE,EACzB;YAAA4F,QAAA,gBAEHpG,OAAA;cAAKyG,SAAS,EAAC,gBAAgB;cAAAL,QAAA,eAC7BpG,OAAA;gBAAKyG,SAAS,EAAC,WAAW;gBAAAL,QAAA,eACxBpG,OAAA,CAACH,QAAQ;kBAACgH,IAAI,EAAE;gBAAG;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNxG,OAAA;cAAIyG,SAAS,EAAC,YAAY;cAAAL,QAAA,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEG,CAAC,EAGXhG,IAAI,KAAK,CAAC,iBACTR,OAAA;QAAAoG,QAAA,gBACEpG,OAAA;UAAAoG,QAAA,EAAI;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAElCxG,OAAA,CAACX,SAAS;UAAA+G,QAAA,eAGVpG,OAAA,CAACP,IAAI;YAAA2G,QAAA,gBACHpG,OAAA,CAACV,GAAG;cAAA8G,QAAA,eACFpG,OAAA,CAACT,GAAG;gBAAA6G,QAAA,eACJpG,OAAA,CAACP,IAAI,CAACqH,KAAK;kBAACC,EAAE,EAAExH,GAAI;kBAACkH,SAAS,EAAC,MAAM;kBAAAL,QAAA,gBACnCpG,OAAA,CAACP,IAAI,CAACuH,KAAK;oBAACN,KAAK,EAAE;sBAACC,UAAU,EAAC;oBAAK,CAAE;oBAAAP,QAAA,EAAE;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC,eACzDxG,OAAA,CAACP,IAAI,CAACwH,OAAO;oBACXC,IAAI,EAAC,MAAM;oBACXC,WAAW,EAAC,YAAY;oBACxBC,GAAG,EAAEjB,SAAU;oBACfkB,KAAK,EAAE3G,IAAK;oBACZ4G,QAAQ,EAAGC,CAAC,IAAK5G,OAAO,CAAC4G,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;oBACzCZ,SAAS,EAAC;kBAAkB;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC7B,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAER;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEH,CAAC,EAELxF,cAAc,CAACqE,MAAM,GAAG,CAAC,gBACxBrF,OAAA,CAACV,GAAG;cAAA8G,QAAA,eACFpG,OAAA,CAACP,IAAI,CAACqH,KAAK;gBAACC,EAAE,EAAExH,GAAI;gBAACkH,SAAS,EAAC,OAAO;gBAAAL,QAAA,gBACpCpG,OAAA,CAACP,IAAI,CAACuH,KAAK;kBAACN,KAAK,EAAE;oBAACC,UAAU,EAAC;kBAAK,CAAE;kBAACF,SAAS,EAAC,MAAM;kBAAAL,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACzExG,OAAA;kBAAAoG,QAAA,EACGpF,cAAc,CAACyG,GAAG,CAAC,CAACC,QAAQ,EAAEC,KAAK,kBAClC3H,OAAA,CAACR,MAAM;oBAELoI,OAAO,EACLhH,IAAI,KAAK8G,QAAQ,CAAC9C,SAAS,GACvB,WAAW,GACX,iBACL;oBACDiD,OAAO,EAAEA,CAAA,KAAMhH,OAAO,CAAC6G,QAAQ,CAAC9C,SAAS,CAAE;oBAC3C6B,SAAS,EAAC,KAAK;oBAAAL,QAAA,GAEdsB,QAAQ,CAAC/C,KAAK,EAAC,IAAE,EAAC+C,QAAQ,CAAC9C,SAAS;kBAAA,GAThC+C,KAAK;oBAAAtB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAUJ,CACT;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC,gBAENxG,OAAA,CAACV,GAAG;cAAA8G,QAAA,eACFpG,OAAA,CAACP,IAAI,CAACqH,KAAK;gBAACC,EAAE,EAAExH,GAAI;gBAACkH,SAAS,EAAC,MAAM;gBAAAL,QAAA,gBACnCpG,OAAA,CAACP,IAAI,CAACuH,KAAK;kBAACN,KAAK,EAAE;oBAACC,UAAU,EAAC;kBAAK,CAAE;kBAAAP,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACxDxG,OAAA,CAACN,KAAK;kBAAA0G,QAAA,eAEFpG,OAAA;oBAAIyG,SAAS,EAAC,KAAK;oBAAAL,QAAA,EAAC;kBAAsD;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAE5E,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAIE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CACN,eAKDxG,OAAA,CAACV,GAAG;cAAA8G,QAAA,gBACFpG,OAAA,CAACP,IAAI,CAACqH,KAAK;gBAACC,EAAE,EAAExH,GAAI;gBAACkH,SAAS,EAAC,MAAM;gBAAAL,QAAA,gBACnCpG,OAAA,CAACP,IAAI,CAACuH,KAAK;kBAACN,KAAK,EAAE;oBAACC,UAAU,EAAC;kBAAK,CAAE;kBAAAP,QAAA,EAAC;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACrExG,OAAA;kBAAAoG,QAAA,EACG9E,cAAc,CAACmG,GAAG,CAAEK,OAAO,iBAC1B9H,OAAA,CAACP,IAAI,CAACsI,KAAK;oBAETb,IAAI,EAAC,UAAU;oBACfvC,KAAK,EAAEmD,OAAO,CAACE,IAAK;oBACpBX,KAAK,EAAES,OAAO,CAACE,IAAK;oBACpBV,QAAQ,EAAEA,CAAA,KAAMxC,mBAAmB,CAACgD,OAAO,CAACE,IAAI,CAAE;oBAClDC,OAAO,EAAEzG,gBAAgB,CAACyD,QAAQ,CAAC6C,OAAO,CAACE,IAAI;kBAAE,GAL5CF,OAAO,CAACI,GAAG;oBAAA7B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAMjB,CACF;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC,eAGbxG,OAAA,CAACP,IAAI,CAACqH,KAAK;gBAACC,EAAE,EAAExH,GAAI;gBAACkH,SAAS,EAAC,MAAM;gBAAAL,QAAA,gBACnCpG,OAAA,CAACP,IAAI,CAACuH,KAAK;kBAACN,KAAK,EAAE;oBAACC,UAAU,EAAC;kBAAK,CAAE;kBAAAP,QAAA,EAAC;gBAAe;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACnExG,OAAA,CAACP,IAAI,CAACwH,OAAO;kBACXF,EAAE,EAAC,UAAU;kBACbI,WAAW,EAAC,cAAc;kBAC1BE,KAAK,EAAEvG,MAAO;kBACdwG,QAAQ,EAAGC,CAAC,IAAKxG,SAAS,CAACwG,CAAC,CAACC,MAAM,CAACH,KAAK;gBAAE;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5C,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CACN,EAEAhG,IAAI,KAAK,CAAC,iBACTR,OAAA,CAAAE,SAAA;QAAAkG,QAAA,gBACApG,OAAA;UAAAoG,QAAA,EAAK;QAA8B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxCxG,OAAA,CAACX,SAAS;UAAA+G,QAAA,eAERpG,OAAA;YAAKyG,SAAS,EAAC,kBAAkB;YAAAL,QAAA,eAC/BpG,OAAA;cAAKyG,SAAS,EAAC,aAAa;cAAAL,QAAA,gBAC1BpG,OAAA;gBAAKyG,SAAS,EAAC,aAAa;gBAAAL,QAAA,GAEzB1F,IAAI,iBACHV,OAAA,CAAAE,SAAA;kBAAAkG,QAAA,eACApG,OAAA,CAACX,SAAS;oBAACoH,SAAS,EAAC,MAAM;oBAAAL,QAAA,gBACzBpG,OAAA;sBAAGyG,SAAS,EAAC,cAAc;sBAAAL,QAAA,EAAE9D,gBAAgB,CAAC5B,IAAI,CAAC,CAACsC;oBAAK;sBAAAqD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC9DxG,OAAA;sBAAIyG,SAAS,EAAC,YAAY;sBAAAL,QAAA,EAAE9D,gBAAgB,CAAC5B,IAAI,CAAC,CAAC+B;oBAAG;sBAAA4D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAC5DxG,OAAA;sBAAGyG,SAAS,EAAC,cAAc;sBAAAL,QAAA,EAAE9D,gBAAgB,CAAC5B,IAAI,CAAC,CAACmC;oBAAS;sBAAAwD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEzD;gBAAC,gBACV,CACH,eACDxG,OAAA;kBAAMyG,SAAS,EAAC;gBAAkB;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC1CxG,OAAA;kBAAMyG,SAAS,EAAC;gBAAoB;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzC,CAAC,eACNxG,OAAA;gBAAKyG,SAAS,EAAC,cAAc;gBAAAL,QAAA,gBAC3BpG,OAAA,CAACX,SAAS;kBAAA+G,QAAA,gBACRpG,OAAA;oBAAGyG,SAAS,EAAC,cAAc;oBAAAL,QAAA,EAAC;kBAAmB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eACnDxG,OAAA;oBAAAqG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC,eAEZxG,OAAA,CAACX,SAAS;kBAACoH,SAAS,EAAC,oCAAoC;kBAAAL,QAAA,gBACvDpG,OAAA;oBAAKyG,SAAS,EAAC,aAAa;oBAAAL,QAAA,eAC1BpG,OAAA;sBAAGyG,SAAS,EAAC;oBAAa;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5B,CAAC,eACNxG,OAAA;oBAAIyG,SAAS,EAAC,UAAU;oBAAAL,QAAA,GAAE9D,gBAAgB,CAAC5B,IAAI,CAAC,CAACsC,KAAK,EAAC,GAAC,EAACV,gBAAgB,CAAC5B,IAAI,CAAC,CAAC+B,GAAG,EAAC,IAAE,EAACH,gBAAgB,CAAC5B,IAAI,CAAC,CAACuC,IAAI,EAAC,GAAC,eAAAjD,OAAA;sBAAAqG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,KAAC,EAAC5F,IAAI;kBAAA;oBAAAyF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5H,CAAC,eAEZxG,OAAA,CAACX,SAAS;kBAAEoH,SAAS,EAAC,oCAAoC;kBAAAL,QAAA,gBACxDpG,OAAA;oBAAKyG,SAAS,EAAC,aAAa;oBAAAL,QAAA,eAC1BpG,OAAA;sBAAGyG,SAAS,EAAC;oBAAmB;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClC,CAAC,eACNxG,OAAA;oBAAIyG,SAAS,EAAC,WAAW;oBAAAL,QAAA,GAAC,mBAAiB,EAACtF,MAAM;kBAAA;oBAAAuF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9C,CAAC,eAEZxG,OAAA;kBAAKyG,SAAS,EAAC;gBAAK;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC3BxG,OAAA,CAACX,SAAS;kBAACoH,SAAS,EAAC,+BAA+B;kBAAAL,QAAA,gBAClDpG,OAAA;oBAAKyG,SAAS,EAAC,aAAa;oBAAAL,QAAA,eAC1BpG,OAAA;sBAAGyG,SAAS,EAAC;oBAAmB;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClC,CAAC,eACNxG,OAAA;oBAAGyG,SAAS,EAAC,UAAU;oBAAAL,QAAA,GAAC,YAAU,EAAC5E,gBAAgB,CAAC2G,IAAI,CAAC,IAAI,CAAC;kBAAA;oBAAA9B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA,eACV,CAAE,eAINxG,OAAA;QAAKyG,SAAS,EAAC,qCAAqC;QAAAL,QAAA,GACjD5F,IAAI,GAAG,CAAC,iBACPR,OAAA,CAACR,MAAM;UAACoI,OAAO,EAAC,WAAW;UAACC,OAAO,EAAE3B,cAAe;UAAAE,QAAA,EAAC;QAErD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT,EACAhG,IAAI,GAAG,CAAC,iBACPR,OAAA;UAAKyG,SAAS,EAAC,kCAAkC;UAAAL,QAAA,eACnDpG,OAAA,CAACR,MAAM;YAACoI,OAAO,EAAC,SAAS;YAACC,OAAO,EAAE5B,cAAe;YAAAG,QAAA,EAAC;UAEvC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAEN,EACAhG,IAAI,KAAK,CAAC,iBACTR,OAAA,CAACR,MAAM;UAACoI,OAAO,EAAC,SAAS;UAACC,OAAO,EAAEzC,iBAAkB;UAAAgB,QAAA,EAAC;QAEtD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA,eACZ,CAAC;AAEP;AAAClG,EAAA,CAvYQH,eAAe;EAAA,QACLhB,WAAW;AAAA;AAAAiJ,EAAA,GADrBjI,eAAe;AAyYxB,eAAeA,eAAe;AAAC,IAAAiI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}