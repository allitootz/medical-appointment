{"ast":null,"code":"var _jsxFileName = \"E:\\\\School\\\\School\\\\Integrative Programming\\\\medical-appointment\\\\frontend\\\\src\\\\components\\\\staffs\\\\admin\\\\appointment\\\\doctors\\\\DeactivationRequests.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button, Card } from 'react-bootstrap';\nimport { ip } from '../../../../../ContentExport';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DeactivationRequests() {\n  _s();\n  const [requests, setRequests] = useState([]);\n  useEffect(() => {\n    axios.get(`${ip.address}/admin/deactivation-requests`).then(res => setRequests(res.data)).catch(err => console.log(err));\n  }, []);\n  const handleConfirm = (doctorId, confirm) => {\n    axios.post(`${ip.address}/admin/confirm-deactivation/${doctorId}`, {\n      confirm\n    }).then(res => {\n      alert(res.data.message);\n      setRequests(requests.filter(request => request._id !== doctorId)); // Remove handled request\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: requests.map(request => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Pending Deactivation Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: `${request.dr_firstName} ${request.dr_lastName}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: `Reason: ${request.deactivationRequest.reason}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: () => handleConfirm(request._id, true),\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: () => handleConfirm(request._id, false),\n            children: \"Reject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)\n      }, request._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n}\n_s(DeactivationRequests, \"MIcAFnHRaJFubpcUtYXSDqOxSqY=\");\n_c = DeactivationRequests;\nexport default DeactivationRequests;\nvar _c;\n$RefreshReg$(_c, \"DeactivationRequests\");","map":{"version":3,"names":["React","useState","useEffect","axios","Button","Card","ip","jsxDEV","_jsxDEV","DeactivationRequests","_s","requests","setRequests","get","address","then","res","data","catch","err","console","log","handleConfirm","doctorId","confirm","post","alert","message","filter","request","_id","children","map","className","fileName","_jsxFileName","lineNumber","columnNumber","Body","Title","dr_firstName","dr_lastName","Text","deactivationRequest","reason","variant","onClick","_c","$RefreshReg$"],"sources":["E:/School/School/Integrative Programming/medical-appointment/frontend/src/components/staffs/admin/appointment/doctors/DeactivationRequests.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { ip } from '../../../../../ContentExport';\r\nfunction DeactivationRequests() {\r\n    const [requests, setRequests] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${ip.address}/admin/deactivation-requests`)\r\n            .then(res => setRequests(res.data))\r\n            .catch(err => console.log(err));\r\n    }, []);\r\n\r\n    const handleConfirm = (doctorId, confirm) => {\r\n        axios\r\n            .post(`${ip.address}/admin/confirm-deactivation/${doctorId}`, { confirm })\r\n            .then((res) => {\r\n                alert(res.data.message);\r\n                setRequests(requests.filter(request => request._id !== doctorId)); // Remove handled request\r\n            })\r\n            .catch((err) => console.log(err));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n           \r\n            {requests.map(request => (\r\n                <div className='mb-3'>\r\n                 <h3>Pending Deactivation Requests</h3>\r\n                 <Card key={request._id}>\r\n                    \r\n                    <Card.Body>\r\n                        <Card.Title>{`${request.dr_firstName} ${request.dr_lastName}`}</Card.Title>\r\n                        <Card.Text>{`Reason: ${request.deactivationRequest.reason}`}</Card.Text>\r\n                        <Button variant=\"success\" onClick={() => handleConfirm(request._id, true)}>\r\n                            Approve\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => handleConfirm(request._id, false)}>\r\n                            Reject\r\n                        </Button>\r\n                    </Card.Body>\r\n                </Card>\r\n                </div>\r\n                \r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeactivationRequests;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}