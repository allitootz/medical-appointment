{"ast":null,"code":"var _jsxFileName = \"E:\\\\School\\\\School\\\\Integrative Programming\\\\medical-appointment\\\\src\\\\components\\\\practitioner\\\\appointment\\\\OngoingAppointment.js\",\n  _s = $RefreshSig$();\n// OngoingAppointment.jsx\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link, useLocation } from \"react-router-dom\";\nimport Table from 'react-bootstrap/Table';\nimport { Button, Pagination, Form, Row, Col, Collapse } from 'react-bootstrap';\nimport './Appointment.css';\nimport RescheduleModal from \"./Reschedule Modal/RescheduleModal\";\nimport { ip } from \"../../../ContentExport\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OngoingAppointment = ({\n  allAppointments,\n  setAllAppointments\n}) => {\n  _s();\n  const location = useLocation();\n  const {\n    did\n  } = location.state || {};\n  const defaultImage = \"images/014ef2f860e8e56b27d4a3267e0a193a.jpg\";\n  const [appointments, setAppointments] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1); // Pagination state\n  const [entriesPerPage, setEntriesPerPage] = useState(5); // Entries per page state\n  const [searchTerm, setSearchTerm] = useState(\"\"); // Search state\n  const [expandedRow, setExpandedRow] = useState(null); // State to track expanded row\n\n  // State for rescheduling\n  const [showRescheduleModal, setShowRescheduleModal] = useState(false);\n  const [selectedAppointment, setSelectedAppointment] = useState(null);\n\n  // Handle reschedule click\n  const handleReschedule = appointment => {\n    setSelectedAppointment(appointment);\n    setShowRescheduleModal(true);\n  };\n\n  // Handle confirm reschedule\n  const handleConfirmReschedule = rescheduledReason => {\n    const newStatus = {\n      rescheduledReason: rescheduledReason,\n      status: 'Rescheduled'\n    };\n    axios.put(`${ip.address}/doctor/${selectedAppointment._id}/rescheduledstatus`, newStatus).then(() => {\n      setAllAppointments(prevAppointments => prevAppointments.map(appointment => appointment._id === selectedAppointment._id ? {\n        ...appointment,\n        status: 'Rescheduled',\n        rescheduledReason: rescheduledReason\n      } : appointment));\n      setCurrentPage(1);\n      setShowRescheduleModal(false); // Close modal after reschedule\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  useEffect(() => {\n    setAppointments(allAppointments);\n  }, [allAppointments]);\n  const handleUpdateStatus = (appointmentId, newStatus) => {\n    axios.put(`${ip.address}/appointments/${appointmentId}/status`, {\n      status: newStatus\n    }).then(response => {\n      setAllAppointments(prevAppointments => prevAppointments.map(appointment => appointment._id === appointmentId ? {\n        ...appointment,\n        status: newStatus\n      } : appointment));\n    }).catch(err => {\n      console.error(\"Error updating status:\", err);\n      setError(\"Failed to update the appointment status.\");\n    });\n  };\n  const getTodayDate = () => {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    const day = String(today.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n  const todayDate = getTodayDate();\n\n  // Filter ongoing appointments\n  const OngoingAppointments = appointments.filter(appointment => {\n    const appointmentDate = new Date(appointment.date).toISOString().split('T')[0];\n    return appointmentDate === todayDate && appointment.status === 'Ongoing';\n  });\n\n  // Filter appointments based on search term\n  const filteredAppointments = OngoingAppointments.filter(appointment => `${appointment.patient.patient_firstName} ${appointment.patient.patient_middleInitial}. ${appointment.patient.patient_lastName}`.toLowerCase().includes(searchTerm.toLowerCase()));\n\n  // Pagination logic\n  const indexOfLastAppointment = currentPage * entriesPerPage;\n  const indexOfFirstAppointment = indexOfLastAppointment - entriesPerPage;\n  const currentAppointments = filteredAppointments.slice(indexOfFirstAppointment, indexOfLastAppointment);\n  const pageNumbers = [];\n  for (let i = 1; i <= Math.ceil(filteredAppointments.length / entriesPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  // Function to toggle expanded row\n  const toggleRow = appointmentId => {\n    setExpandedRow(expandedRow === appointmentId ? null : appointmentId); // Toggle the expanded row\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '30px',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"mb-4\",\n        children: \"Ongoing Appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          md: 3,\n          className: \"mb-3 d-flex align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center w-100\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: \"me-2\",\n              children: \"Entries per page:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              value: entriesPerPage,\n              onChange: e => setEntriesPerPage(parseInt(e.target.value)),\n              className: \"select-dropdown\",\n              style: {\n                width: 'auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5,\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 15,\n                children: \"15\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 30,\n                children: \"30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 50,\n                children: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          md: 9,\n          className: \"mb-3 d-flex align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center w-100\",\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formSearch\",\n              className: \"w-100 d-flex flex-wrap align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 12,\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Form.Label, {\n                  className: \"me-2\",\n                  children: \"Search by Patient Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 12,\n                md: 8,\n                className: \"d-flex justify-content-end\",\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  placeholder: \"Search...\",\n                  value: searchTerm,\n                  onChange: e => setSearchTerm(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        responsive: true,\n        striped: true,\n        variant: \"light\",\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Patient Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Service\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: currentAppointments.map(appointment => {\n            const patient = appointment.patient;\n            const patientName = `${patient.patient_firstName} ${patient.patient_middleInitial}. ${patient.patient_lastName}`;\n            const appointmentTypes = appointment.appointment_type.map(typeObj => typeObj.appointment_type).join(', ');\n            const patientImage = `${ip.address}/${patient.patient_image}` || `${ip.address}/${defaultImage}`;\n            return /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                onClick: () => toggleRow(appointment._id) // Click to toggle collapse\n                ,\n                style: {\n                  cursor: 'pointer'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"Patient\",\n                    src: patientImage,\n                    style: {\n                      marginRight: '10px',\n                      width: '30px',\n                      height: '30px',\n                      borderRadius: '100px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 25\n                  }, this), patientName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: appointmentTypes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: new Date(appointment.date).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: appointment.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ongoing-appointment\",\n                      children: appointment.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/information\",\n                      state: {\n                        pid: appointment.patient._id,\n                        did: did,\n                        apid: appointment._id\n                      },\n                      children: \"Px Management\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 25\n                    }, this), ' | ', /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: 'green',\n                        cursor: 'pointer',\n                        textDecoration: 'underline',\n                        marginLeft: '5px'\n                      },\n                      onClick: e => {\n                        e.stopPropagation();\n                        handleUpdateStatus(appointment._id, 'For Payment');\n                      },\n                      children: \"For Payment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  style: {\n                    padding: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Collapse, {\n                    in: expandedRow === appointment._id,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        padding: '10px',\n                        backgroundColor: '#f8f9fa',\n                        transition: 'height 0.35s ease'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Reason:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 27\n                      }, this), \" \", appointment.reason]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this)]\n            }, appointment._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        children: [/*#__PURE__*/_jsxDEV(Pagination.First, {\n          onClick: () => setCurrentPage(1),\n          disabled: currentPage === 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination.Prev, {\n          onClick: () => setCurrentPage(prev => Math.max(prev - 1, 1)),\n          disabled: currentPage === 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), pageNumbers.map(number => /*#__PURE__*/_jsxDEV(Pagination.Item, {\n          active: number === currentPage,\n          onClick: () => setCurrentPage(number),\n          children: number\n        }, number, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(Pagination.Next, {\n          onClick: () => setCurrentPage(prev => Math.min(prev + 1, pageNumbers.length)),\n          disabled: currentPage === pageNumbers.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination.Last, {\n          onClick: () => setCurrentPage(pageNumbers.length),\n          disabled: currentPage === pageNumbers.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), selectedAppointment && /*#__PURE__*/_jsxDEV(RescheduleModal, {\n      show: showRescheduleModal,\n      handleClose: () => setShowRescheduleModal(false),\n      handleConfirm: handleConfirmReschedule,\n      appointment: selectedAppointment\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(OngoingAppointment, \"VH9yB3nHBqYxR8eWfGiHhLmB60E=\", false, function () {\n  return [useLocation];\n});\n_c = OngoingAppointment;\nexport default OngoingAppointment;\nvar _c;\n$RefreshReg$(_c, \"OngoingAppointment\");","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","Link","useLocation","Table","Button","Pagination","Form","Row","Col","Collapse","RescheduleModal","ip","jsxDEV","_jsxDEV","Fragment","_Fragment","OngoingAppointment","allAppointments","setAllAppointments","_s","location","did","state","defaultImage","appointments","setAppointments","error","setError","currentPage","setCurrentPage","entriesPerPage","setEntriesPerPage","searchTerm","setSearchTerm","expandedRow","setExpandedRow","showRescheduleModal","setShowRescheduleModal","selectedAppointment","setSelectedAppointment","handleReschedule","appointment","handleConfirmReschedule","rescheduledReason","newStatus","status","put","address","_id","then","prevAppointments","map","catch","err","console","log","handleUpdateStatus","appointmentId","response","getTodayDate","today","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","todayDate","OngoingAppointments","filter","appointmentDate","date","toISOString","split","filteredAppointments","patient","patient_firstName","patient_middleInitial","patient_lastName","toLowerCase","includes","indexOfLastAppointment","indexOfFirstAppointment","currentAppointments","slice","pageNumbers","i","Math","ceil","length","push","toggleRow","children","style","padding","width","className","fileName","_jsxFileName","lineNumber","columnNumber","xs","md","Label","Control","as","value","onChange","e","parseInt","target","Group","controlId","type","placeholder","responsive","striped","variant","patientName","appointmentTypes","appointment_type","typeObj","join","patientImage","patient_image","onClick","cursor","alt","src","marginRight","height","borderRadius","toLocaleDateString","time","to","pid","apid","color","textDecoration","marginLeft","stopPropagation","colSpan","in","backgroundColor","transition","reason","First","disabled","Prev","prev","max","number","Item","active","Next","min","Last","show","handleClose","handleConfirm","_c","$RefreshReg$"],"sources":["E:/School/School/Integrative Programming/medical-appointment/src/components/practitioner/appointment/OngoingAppointment.js"],"sourcesContent":["// OngoingAppointment.jsx\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams, Link, useLocation } from \"react-router-dom\";\r\nimport Table from 'react-bootstrap/Table';\r\nimport { Button, Pagination, Form, Row, Col, Collapse } from 'react-bootstrap';\r\nimport './Appointment.css';\r\nimport RescheduleModal from \"./Reschedule Modal/RescheduleModal\";\r\nimport { ip } from \"../../../ContentExport\";\r\n\r\nconst OngoingAppointment = ({ allAppointments, setAllAppointments }) => {\r\n  const location = useLocation();\r\n  const { did } = location.state || {}; \r\n  const defaultImage = \"images/014ef2f860e8e56b27d4a3267e0a193a.jpg\";\r\n\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1); // Pagination state\r\n  const [entriesPerPage, setEntriesPerPage] = useState(5); // Entries per page state\r\n  const [searchTerm, setSearchTerm] = useState(\"\"); // Search state\r\n  const [expandedRow, setExpandedRow] = useState(null); // State to track expanded row\r\n\r\n  // State for rescheduling\r\n  const [showRescheduleModal, setShowRescheduleModal] = useState(false);\r\n  const [selectedAppointment, setSelectedAppointment] = useState(null);\r\n\r\n  // Handle reschedule click\r\n  const handleReschedule = (appointment) => {\r\n    setSelectedAppointment(appointment);\r\n    setShowRescheduleModal(true);\r\n  };\r\n\r\n  // Handle confirm reschedule\r\n  const handleConfirmReschedule = (rescheduledReason) => {\r\n    const newStatus = {\r\n      rescheduledReason: rescheduledReason,\r\n      status: 'Rescheduled'\r\n    };\r\n    axios.put(`${ip.address}/doctor/${selectedAppointment._id}/rescheduledstatus`, newStatus)\r\n      .then(() => {\r\n        setAllAppointments(prevAppointments =>\r\n          prevAppointments.map(appointment =>\r\n            appointment._id === selectedAppointment._id ? { ...appointment, status: 'Rescheduled', rescheduledReason: rescheduledReason } : appointment\r\n          )\r\n        );\r\n        setCurrentPage(1); \r\n        setShowRescheduleModal(false);  // Close modal after reschedule\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setAppointments(allAppointments);\r\n  }, [allAppointments]);\r\n\r\n  const handleUpdateStatus = (appointmentId, newStatus) => {\r\n    axios.put(`${ip.address}/appointments/${appointmentId}/status`, { status: newStatus })\r\n      .then((response) => {\r\n        setAllAppointments(prevAppointments =>\r\n          prevAppointments.map(appointment =>\r\n            appointment._id === appointmentId ? { ...appointment, status: newStatus } : appointment\r\n          )\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error updating status:\", err);\r\n        setError(\"Failed to update the appointment status.\");\r\n      });\r\n  };\r\n\r\n  const getTodayDate = () => {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = String(today.getMonth() + 1).padStart(2, '0');\r\n    const day = String(today.getDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  };\r\n\r\n  const todayDate = getTodayDate();\r\n\r\n  // Filter ongoing appointments\r\n  const OngoingAppointments = appointments.filter(appointment => {\r\n    const appointmentDate = new Date(appointment.date).toISOString().split('T')[0];\r\n    return appointmentDate === todayDate && appointment.status === 'Ongoing';\r\n  });\r\n\r\n  // Filter appointments based on search term\r\n  const filteredAppointments = OngoingAppointments.filter(appointment => \r\n    `${appointment.patient.patient_firstName} ${appointment.patient.patient_middleInitial}. ${appointment.patient.patient_lastName}`\r\n      .toLowerCase()\r\n      .includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Pagination logic\r\n  const indexOfLastAppointment = currentPage * entriesPerPage;\r\n  const indexOfFirstAppointment = indexOfLastAppointment - entriesPerPage;\r\n  const currentAppointments = filteredAppointments.slice(indexOfFirstAppointment, indexOfLastAppointment);\r\n\r\n  const pageNumbers = [];\r\n  for (let i = 1; i <= Math.ceil(filteredAppointments.length / entriesPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  // Function to toggle expanded row\r\n  const toggleRow = (appointmentId) => {\r\n    setExpandedRow(expandedRow === appointmentId ? null : appointmentId); // Toggle the expanded row\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding: '30px', width: '100%' }}>\r\n        <h4 className=\"mb-4\">Ongoing Appointments</h4>\r\n\r\n        {/* Entries per page and search functionality */}\r\n        <Row className=\"d-flex align-items-center\">\r\n          <Col xs={12} md={3} className=\"mb-3 d-flex align-items-center\">\r\n            <div className=\"d-flex align-items-center w-100\">\r\n              <Form.Label className=\"me-2\">Entries per page:</Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                value={entriesPerPage}\r\n                onChange={(e) => setEntriesPerPage(parseInt(e.target.value))}\r\n                className=\"select-dropdown\"\r\n                style={{ width: 'auto' }}\r\n              >\r\n                <option value={5}>5</option>\r\n                <option value={15}>15</option>\r\n                <option value={30}>30</option>\r\n                <option value={50}>50</option>\r\n              </Form.Control>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col xs={12} md={9} className=\"mb-3 d-flex align-items-center\">\r\n            <div className=\"d-flex align-items-center w-100\">\r\n              <Form.Group controlId=\"formSearch\" className=\"w-100 d-flex flex-wrap align-items-center\">\r\n                <Col xs={12} md={4}>\r\n                  <Form.Label className=\"me-2\">Search by Patient Name:</Form.Label>\r\n                </Col>\r\n                <Col xs={12} md={8} className=\"d-flex justify-content-end\">\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Search...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                  />\r\n                </Col>\r\n              </Form.Group>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Table responsive striped variant=\"light\" className=\"mt-3\">\r\n          <thead>\r\n            <tr>\r\n              <th>Patient Name</th>\r\n              <th>Service</th>\r\n              <th>Date</th>\r\n              <th>Time</th>\r\n              <th>Status</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {currentAppointments.map((appointment) => {\r\n              const patient = appointment.patient;\r\n              const patientName = `${patient.patient_firstName} ${patient.patient_middleInitial}. ${patient.patient_lastName}`;\r\n              const appointmentTypes = appointment.appointment_type\r\n              .map(typeObj => typeObj.appointment_type)\r\n              .join(', ');\r\n              const patientImage = `${ip.address}/${patient.patient_image}` || `${ip.address}/${defaultImage}`;\r\n\r\n              return (\r\n                <React.Fragment key={appointment._id}>\r\n                  <tr\r\n                    onClick={() => toggleRow(appointment._id)} // Click to toggle collapse\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    <td><img alt='Patient' src={patientImage} style={{ marginRight:'10px', width: '30px', height:'30px', borderRadius:'100px' }}/>{patientName}</td>\r\n                    <td>{appointmentTypes}</td>\r\n                    <td>{new Date(appointment.date).toLocaleDateString()}</td>\r\n                    <td>{appointment.time}</td>\r\n                    <td>\r\n                      <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"ongoing-appointment\">\r\n                          {appointment.status}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div>\r\n                        <Link\r\n                          to=\"/information\"\r\n                          state={{ pid: appointment.patient._id, did: did, apid: appointment._id }}\r\n                        >\r\n                          Px Management\r\n                        </Link>\r\n                        {' | '}\r\n                        {/* <span \r\n                          onClick={(e) => { e.stopPropagation(); handleReschedule(appointment); }} \r\n                          style={{ cursor: 'pointer', color: 'orange', textDecoration: 'underline', marginLeft: '5px' }}\r\n                        >\r\n                          Reschedule\r\n                        </span>\r\n                        {' | '} */}\r\n                        <span \r\n                          style={{ color: 'green', cursor: 'pointer', textDecoration: 'underline', marginLeft: '5px' }} \r\n                          onClick={(e) => { e.stopPropagation(); handleUpdateStatus(appointment._id, 'For Payment'); }}\r\n                        >\r\n                          For Payment\r\n                        </span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* Collapsible row for \"Reason\" */}\r\n                  <tr>\r\n                    <td colSpan=\"6\" style={{ padding: 0 }}>\r\n                      <Collapse in={expandedRow === appointment._id}>\r\n                        <div style={{ padding: '10px', backgroundColor: '#f8f9fa', transition: 'height 0.35s ease'}}>\r\n                          <strong>Reason:</strong> {appointment.reason}\r\n                        </div>\r\n                      </Collapse>\r\n                    </td>\r\n                  </tr>\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n\r\n        {/* Display error if any */}\r\n        {error && <p>{error}</p>}\r\n\r\n        {/* Pagination controls */}\r\n        <Pagination>\r\n          <Pagination.First onClick={() => setCurrentPage(1)} disabled={currentPage === 1} />\r\n          <Pagination.Prev onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))} disabled={currentPage === 1} />\r\n          {pageNumbers.map(number => (\r\n            <Pagination.Item key={number} active={number === currentPage} onClick={() => setCurrentPage(number)}>\r\n              {number}\r\n            </Pagination.Item>\r\n          ))}\r\n          <Pagination.Next onClick={() => setCurrentPage(prev => Math.min(prev + 1, pageNumbers.length))} disabled={currentPage === pageNumbers.length} />\r\n          <Pagination.Last onClick={() => setCurrentPage(pageNumbers.length)} disabled={currentPage === pageNumbers.length} />\r\n        </Pagination>\r\n      </div>\r\n\r\n      {/* Reschedule Modal */}\r\n      {selectedAppointment && (\r\n        <RescheduleModal\r\n          show={showRescheduleModal}\r\n          handleClose={() => setShowRescheduleModal(false)}\r\n          handleConfirm={handleConfirmReschedule}\r\n          appointment={selectedAppointment}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OngoingAppointment;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}