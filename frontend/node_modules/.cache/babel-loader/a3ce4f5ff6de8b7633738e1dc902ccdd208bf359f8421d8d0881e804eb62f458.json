{"ast":null,"code":"var _jsxFileName = \"E:\\\\School\\\\School\\\\Integrative Programming\\\\medical-appointment\\\\src\\\\components\\\\practitioner\\\\accountinfo\\\\AccountInfo.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Form, Row, Col, Container } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport ImageUploadModal from \"./modal/ImageUploadModal\";\nimport UpdateInfoModal from \"./modal/UpdateInfoModal\";\nimport DoctorBiography from \"./DoctorBiography\"; // Import the new Biography component\nimport { PencilFill } from \"react-bootstrap-icons\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AccountInfo = () => {\n  _s();\n  const location = useLocation();\n  const {\n    did\n  } = location.state || {};\n  const [doctorData, setDoctorData] = useState({\n    theId: \"\",\n    theName: \"\",\n    theImage: \"images/014ef2f860e8e56b27d4a3267e0a193a.jpg\",\n    theLastName: \"\",\n    theMI: \"\",\n    email: \"\",\n    cnumber: \"\",\n    password: \"\",\n    dob: \"\",\n    specialty: \"\",\n    biography: {} // Add biography field to doctorData\n  });\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\n  useEffect(() => {\n    axios.get(`http://localhost:8000/doctor/api/finduser/${did}`).then(res => {\n      const data = res.data.theDoctor;\n      setDoctorData({\n        ...doctorData,\n        theId: data._id,\n        theName: data.dr_firstName,\n        theImage: data.dr_image || doctorData.theImage,\n        theLastName: data.dr_lastName,\n        theMI: data.dr_middleInitial,\n        email: data.dr_email,\n        cnumber: data.dr_contactNumber,\n        dob: data.dr_dob,\n        password: data.dr_password,\n        specialty: data.dr_specialty,\n        biography: data.biography || {} // Get biography from the response\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [did]);\n  const handleUpdateBiography = updatedBiography => {\n    const updatedData = {\n      ...doctorData,\n      biography: updatedBiography\n    };\n    axios.put(`http://localhost:8000/doctor/api/${did}/updateDetails`, updatedData).then(response => {\n      setDoctorData({\n        ...doctorData,\n        biography: updatedBiography\n      });\n    }).catch(error => {\n      console.error('Error updating biography:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"d-flex flex-column align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-container d-flex align-items-center shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:8000/${doctorData.theImage}`,\n          alt: \"Doctor\",\n          className: \"ai-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: `${doctorData.theName} ${doctorData.theMI}. ${doctorData.theLastName}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: doctorData.specialty\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setIsModalOpen(true),\n            children: [\"Upload Image \", /*#__PURE__*/_jsxDEV(PencilFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DoctorBiography, {\n        biography: doctorData.biography,\n        did: doctorData.theId,\n        handleUpdateBiography: handleUpdateBiography\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageUploadModal, {\n      isOpen: isModalOpen,\n      onRequestClose: newImageUrl => setIsModalOpen(false),\n      did: did\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UpdateInfoModal, {\n      show: isUpdateModalOpen,\n      handleClose: () => setIsUpdateModalOpen(false),\n      doctorData: doctorData,\n      handleUpdate: updatedData => setDoctorData(updatedData)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AccountInfo, \"Kw6GElMLo+tVdp16MaDphKqnMXQ=\", true);\n_c = AccountInfo;\nexport default AccountInfo;\nvar _c;\n$RefreshReg$(_c, \"AccountInfo\");","map":{"version":3,"names":["React","useState","useEffect","Button","Form","Row","Col","Container","axios","ImageUploadModal","UpdateInfoModal","DoctorBiography","PencilFill","jsxDEV","_jsxDEV","Fragment","_Fragment","AccountInfo","_s","location","useLocation","did","state","doctorData","setDoctorData","theId","theName","theImage","theLastName","theMI","email","cnumber","password","dob","specialty","biography","isModalOpen","setIsModalOpen","isUpdateModalOpen","setIsUpdateModalOpen","get","then","res","data","theDoctor","_id","dr_firstName","dr_image","dr_lastName","dr_middleInitial","dr_email","dr_contactNumber","dr_dob","dr_password","dr_specialty","catch","err","console","log","handleUpdateBiography","updatedBiography","updatedData","put","response","error","children","fluid","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","isOpen","onRequestClose","newImageUrl","show","handleClose","handleUpdate","_c","$RefreshReg$"],"sources":["E:/School/School/Integrative Programming/medical-appointment/src/components/practitioner/accountinfo/AccountInfo.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Button, Form, Row, Col, Container } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport ImageUploadModal from \"./modal/ImageUploadModal\";\r\nimport UpdateInfoModal from \"./modal/UpdateInfoModal\";\r\nimport DoctorBiography from \"./DoctorBiography\";  // Import the new Biography component\r\nimport { PencilFill } from \"react-bootstrap-icons\";\r\n\r\nconst AccountInfo = () => {\r\n  const location = useLocation();\r\n  const { did } = location.state || {};\r\n  const [doctorData, setDoctorData] = useState({\r\n    theId: \"\",\r\n    theName: \"\",\r\n    theImage: \"images/014ef2f860e8e56b27d4a3267e0a193a.jpg\", \r\n    theLastName: \"\",\r\n    theMI: \"\",\r\n    email: \"\",\r\n    cnumber: \"\",\r\n    password: \"\",\r\n    dob: \"\",\r\n    specialty: \"\",\r\n    biography: {} // Add biography field to doctorData\r\n  });\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:8000/doctor/api/finduser/${did}`)\r\n      .then((res) => {\r\n        const data = res.data.theDoctor;\r\n        setDoctorData({\r\n          ...doctorData,\r\n          theId: data._id,\r\n          theName: data.dr_firstName,\r\n          theImage: data.dr_image || doctorData.theImage,\r\n          theLastName: data.dr_lastName,\r\n          theMI: data.dr_middleInitial,\r\n          email: data.dr_email,\r\n          cnumber: data.dr_contactNumber,\r\n          dob: data.dr_dob,\r\n          password: data.dr_password,\r\n          specialty: data.dr_specialty,\r\n          biography: data.biography || {} // Get biography from the response\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [did]);\r\n\r\n  const handleUpdateBiography = (updatedBiography) => {\r\n    const updatedData = { ...doctorData, biography: updatedBiography };\r\n    axios.put(`http://localhost:8000/doctor/api/${did}/updateDetails`, updatedData)\r\n      .then((response) => {\r\n        setDoctorData({\r\n          ...doctorData,\r\n          biography: updatedBiography\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error updating biography:', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container fluid className=\"d-flex flex-column align-items-center\">\r\n        {/* Doctor Info */}\r\n        <div className=\"ai-container d-flex align-items-center shadow-sm\">\r\n          <img src={`http://localhost:8000/${doctorData.theImage}`} alt=\"Doctor\" className=\"ai-image\" />\r\n          <div className=\"ml-4\">\r\n            <h4>{`${doctorData.theName} ${doctorData.theMI}. ${doctorData.theLastName}`}</h4>\r\n            <p>{doctorData.specialty}</p>\r\n            <Button onClick={() => setIsModalOpen(true)}>\r\n              Upload Image <PencilFill />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Doctor Biography */}\r\n        <DoctorBiography\r\n          biography={doctorData.biography}\r\n          did={doctorData.theId}\r\n          handleUpdateBiography={handleUpdateBiography}\r\n        />\r\n      </Container>\r\n\r\n      <ImageUploadModal \r\n        isOpen={isModalOpen}\r\n        onRequestClose={(newImageUrl) => setIsModalOpen(false)}\r\n        did={did}\r\n      />\r\n      \r\n      <UpdateInfoModal\r\n        show={isUpdateModalOpen}\r\n        handleClose={() => setIsUpdateModalOpen(false)}\r\n        doctorData={doctorData}\r\n        handleUpdate={(updatedData) => setDoctorData(updatedData)}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AccountInfo;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,SAAS,QAAQ,iBAAiB;AACnE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,gBAAgB,MAAM,0BAA0B;AACvD,OAAOC,eAAe,MAAM,yBAAyB;AACrD,OAAOC,eAAe,MAAM,mBAAmB,CAAC,CAAE;AAClD,SAASC,UAAU,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGC,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEC;EAAI,CAAC,GAAGF,QAAQ,CAACG,KAAK,IAAI,CAAC,CAAC;EACpC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC;IAC3CwB,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAE,6CAA6C;IACvDC,WAAW,EAAE,EAAE;IACfC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAE,EAAE;IACZC,GAAG,EAAE,EAAE;IACPC,SAAS,EAAE,EAAE;IACbC,SAAS,EAAE,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC;EACF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EAEjEC,SAAS,CAAC,MAAM;IACdM,KAAK,CAACgC,GAAG,CAAC,6CAA6CnB,GAAG,EAAE,CAAC,CAC1DoB,IAAI,CAAEC,GAAG,IAAK;MACb,MAAMC,IAAI,GAAGD,GAAG,CAACC,IAAI,CAACC,SAAS;MAC/BpB,aAAa,CAAC;QACZ,GAAGD,UAAU;QACbE,KAAK,EAAEkB,IAAI,CAACE,GAAG;QACfnB,OAAO,EAAEiB,IAAI,CAACG,YAAY;QAC1BnB,QAAQ,EAAEgB,IAAI,CAACI,QAAQ,IAAIxB,UAAU,CAACI,QAAQ;QAC9CC,WAAW,EAAEe,IAAI,CAACK,WAAW;QAC7BnB,KAAK,EAAEc,IAAI,CAACM,gBAAgB;QAC5BnB,KAAK,EAAEa,IAAI,CAACO,QAAQ;QACpBnB,OAAO,EAAEY,IAAI,CAACQ,gBAAgB;QAC9BlB,GAAG,EAAEU,IAAI,CAACS,MAAM;QAChBpB,QAAQ,EAAEW,IAAI,CAACU,WAAW;QAC1BnB,SAAS,EAAES,IAAI,CAACW,YAAY;QAC5BnB,SAAS,EAAEQ,IAAI,CAACR,SAAS,IAAI,CAAC,CAAC,CAAC;MAClC,CAAC,CAAC;IACJ,CAAC,CAAC,CACDoB,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACN,CAAC,EAAE,CAACnC,GAAG,CAAC,CAAC;EAET,MAAMsC,qBAAqB,GAAIC,gBAAgB,IAAK;IAClD,MAAMC,WAAW,GAAG;MAAE,GAAGtC,UAAU;MAAEY,SAAS,EAAEyB;IAAiB,CAAC;IAClEpD,KAAK,CAACsD,GAAG,CAAC,oCAAoCzC,GAAG,gBAAgB,EAAEwC,WAAW,CAAC,CAC5EpB,IAAI,CAAEsB,QAAQ,IAAK;MAClBvC,aAAa,CAAC;QACZ,GAAGD,UAAU;QACbY,SAAS,EAAEyB;MACb,CAAC,CAAC;IACJ,CAAC,CAAC,CACDL,KAAK,CAAES,KAAK,IAAK;MAChBP,OAAO,CAACO,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD,CAAC,CAAC;EACN,CAAC;EAED,oBACElD,OAAA,CAAAE,SAAA;IAAAiD,QAAA,gBACEnD,OAAA,CAACP,SAAS;MAAC2D,KAAK;MAACC,SAAS,EAAC,uCAAuC;MAAAF,QAAA,gBAEhEnD,OAAA;QAAKqD,SAAS,EAAC,kDAAkD;QAAAF,QAAA,gBAC/DnD,OAAA;UAAKsD,GAAG,EAAE,yBAAyB7C,UAAU,CAACI,QAAQ,EAAG;UAAC0C,GAAG,EAAC,QAAQ;UAACF,SAAS,EAAC;QAAU;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC9F3D,OAAA;UAAKqD,SAAS,EAAC,MAAM;UAAAF,QAAA,gBACnBnD,OAAA;YAAAmD,QAAA,EAAK,GAAG1C,UAAU,CAACG,OAAO,IAAIH,UAAU,CAACM,KAAK,KAAKN,UAAU,CAACK,WAAW;UAAE;YAAA0C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACjF3D,OAAA;YAAAmD,QAAA,EAAI1C,UAAU,CAACW;UAAS;YAAAoC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC7B3D,OAAA,CAACX,MAAM;YAACuE,OAAO,EAAEA,CAAA,KAAMrC,cAAc,CAAC,IAAI,CAAE;YAAA4B,QAAA,GAAC,eAC9B,eAAAnD,OAAA,CAACF,UAAU;cAAA0D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN3D,OAAA,CAACH,eAAe;QACdwB,SAAS,EAAEZ,UAAU,CAACY,SAAU;QAChCd,GAAG,EAAEE,UAAU,CAACE,KAAM;QACtBkC,qBAAqB,EAAEA;MAAsB;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACO,CAAC,eAEZ3D,OAAA,CAACL,gBAAgB;MACfkE,MAAM,EAAEvC,WAAY;MACpBwC,cAAc,EAAGC,WAAW,IAAKxC,cAAc,CAAC,KAAK,CAAE;MACvDhB,GAAG,EAAEA;IAAI;MAAAiD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,eAEF3D,OAAA,CAACJ,eAAe;MACdoE,IAAI,EAAExC,iBAAkB;MACxByC,WAAW,EAAEA,CAAA,KAAMxC,oBAAoB,CAAC,KAAK,CAAE;MAC/ChB,UAAU,EAAEA,UAAW;MACvByD,YAAY,EAAGnB,WAAW,IAAKrC,aAAa,CAACqC,WAAW;IAAE;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAACvD,EAAA,CA9FID,WAAW;AAAAgE,EAAA,GAAXhE,WAAW;AAgGjB,eAAeA,WAAW;AAAC,IAAAgE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}