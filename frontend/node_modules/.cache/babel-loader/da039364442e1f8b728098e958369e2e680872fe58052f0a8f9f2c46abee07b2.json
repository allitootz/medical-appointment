{"ast":null,"code":"var _jsxFileName = \"E:\\\\School\\\\School\\\\Integrative Programming\\\\medical-appointment\\\\src\\\\components\\\\patient\\\\doctorprofile\\\\AppointmentForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Container, Row, Col, Button, Form, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { PassFill, CheckAll } from \"react-bootstrap-icons\";\nimport { Helmet } from \"react-helmet\";\nimport { ip } from \"../../../ContentExport\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AppointmentForm({\n  pid,\n  did\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(1);\n  const [date, setDate] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [reason, setReason] = useState(\"\");\n  const [availableTimes, setAvailableTimes] = useState([]);\n  const [availability, setAvailability] = useState({});\n  const [doctorName, setDoctorName] = useState(\"\");\n  const [doctorServices, setDoctorServices] = useState([]);\n  const [selectedServices, setSelectedServices] = useState([]);\n  useEffect(() => {\n    // Fetch doctor's services, availability, and name\n    axios.get(`${ip.address}/doctor/${did}`).then(response => {\n      const doctor = response.data.doctor;\n      setDoctorName(`${doctor.dr_firstName} ${doctor.dr_lastName}`);\n      setDoctorServices(doctor.dr_services || []);\n      setAvailability(doctor.availability || {});\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [did]);\n  const formatTicketDate = dateString => {\n    const date = new Date(dateString);\n    const day = String(date.getDate()).padStart(2, '0'); // Get day\n    const dayOfWeek = date.toLocaleString('default', {\n      weekday: 'short'\n    }); // Get weekday abbreviation (e.g., Sat)\n    const month = date.toLocaleString('default', {\n      month: 'long'\n    }); // Get full month name (e.g., September)\n    const year = date.getFullYear(); // Get year\n\n    return {\n      day,\n      dayOfWeek,\n      month,\n      year\n    };\n  };\n  const formatTime = timeString => {\n    if (!timeString) return \"\"; // Handle cases where time is not provided or is invalid\n\n    // Split the time string into hours and minutes (handle both \"HH:MM\" and \"HH:MM:SS\")\n    const [hours, minutes] = timeString.split(':');\n    const time = new Date();\n    time.setHours(hours);\n    time.setMinutes(minutes);\n\n    // Return the time in 12-hour format with AM/PM\n    return time.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n  useEffect(() => {\n    if (date) {\n      const selectedDate = new Date(date);\n      const daysOfWeek = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"];\n      const day = daysOfWeek[selectedDate.getDay()];\n      setAvailableTimes(getAvailableTimes(day));\n    } else {\n      setAvailableTimes([]);\n    }\n  }, [date, availability]);\n  const getAvailableTimes = day => {\n    var _dayAvailability$morn, _dayAvailability$afte;\n    const dayAvailability = availability[day];\n    if (!dayAvailability) return [];\n    let times = [];\n    if ((_dayAvailability$morn = dayAvailability.morning) !== null && _dayAvailability$morn !== void 0 && _dayAvailability$morn.available) {\n      // Convert both start and end times to 12-hour format\n      const startTime = formatTime(dayAvailability.morning.startTime);\n      const endTime = formatTime(dayAvailability.morning.endTime);\n      times.push({\n        label: \"Morning\",\n        timeRange: `${startTime} - ${endTime}`\n      });\n    }\n    if ((_dayAvailability$afte = dayAvailability.afternoon) !== null && _dayAvailability$afte !== void 0 && _dayAvailability$afte.available) {\n      // Convert both start and end times to 12-hour format\n      const startTime = formatTime(dayAvailability.afternoon.startTime);\n      const endTime = formatTime(dayAvailability.afternoon.endTime);\n      times.push({\n        label: \"Afternoon\",\n        timeRange: `${startTime} - ${endTime}`\n      });\n    }\n    return times;\n  };\n\n  // Function to handle checkbox change for services\n  const handleServiceChange = service => {\n    setSelectedServices(prevSelected => {\n      const isSelected = prevSelected.some(s => s.appointment_type === service.name);\n      if (isSelected) {\n        // If already selected, remove the service from the selected services\n        return prevSelected.filter(s => s.appointment_type !== service.name);\n      } else {\n        // If not selected, add the service as an object { appointment_type, category }\n        return [...prevSelected, {\n          appointment_type: service.name,\n          category: service.category\n        }];\n      }\n    });\n  };\n\n  // Function to create an appointment\n  const createAppointment = () => {\n    if (!date) {\n      window.alert(\"Please select a valid date for the appointment.\");\n      return;\n    }\n\n    // Create the appointment data\n    const formData = {\n      doctor: did || null,\n      // doctorId can be null if optional\n      date,\n      time: time || null,\n      reason,\n      appointment_type: selectedServices // Ensure selectedServices contains objects with appointment_type and category\n    };\n    axios.post(`${ip.address}/patient/api/${pid}/createappointment`, formData).then(() => {\n      window.alert(\"Created an appointment!\");\n      window.location.reload();\n    }).catch(err => {\n      if (err.response) {\n        console.log(err.response.data);\n        window.alert(`Error: ${err.response.data.message}`);\n      } else {\n        console.log(err);\n        window.alert('An error occurred while creating the appointment.');\n      }\n    });\n  };\n  const getTodayDate = () => {\n    const today = new Date();\n    return today.toISOString().split(\"T\")[0];\n  };\n  const handleNextStep = () => {\n    if (step === 1 && (!date || !time || !reason || selectedServices.length === 0)) {\n      window.alert(\"Please fill out all fields.\");\n      return;\n    }\n    setStep(step + 1);\n  };\n  const handlePrevStep = () => {\n    setStep(step - 1);\n  };\n  const todayDate = getTodayDate();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Molino Care | Patient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"appointment-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"m-0\",\n          style: {\n            fontWeight: '600',\n            fontSize: '20px'\n          },\n          children: \"Book an Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"pt-2 pb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x padding-bottom-1x\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `step ${step >= 1 ? \"completed\" : \"\"} ${step === 1 ? \"active\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"step-icon-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"step-icon\",\n                children: /*#__PURE__*/_jsxDEV(PassFill, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"step-title\",\n              children: \"Fill Out the Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `step ${step === 2 ? \"completed\" : \"\"} ${step === 2 ? \"active\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"step-icon-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"step-icon\",\n                children: /*#__PURE__*/_jsxDEV(CheckAll, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"step-title\",\n              children: \"Finalizing Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Step 1: Fill Out the Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  as: Col,\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    style: {\n                      fontWeight: '600'\n                    },\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"date\",\n                    placeholder: \"Enter Date\",\n                    min: todayDate,\n                    value: date,\n                    onChange: e => setDate(e.target.value),\n                    className: \"form-appointment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), availableTimes.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-5 \",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  className: \"m-0 \",\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n                  children: availableTimes.map((timeSlot, index) => /*#__PURE__*/_jsxDEV(Button, {\n                    variant: time === timeSlot.timeRange ? \"secondary\" : \"outline-primary\",\n                    onClick: () => setTime(timeSlot.timeRange),\n                    className: \"m-1\",\n                    children: [timeSlot.label, \": \", timeSlot.timeRange]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Alert, {\n                  children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"m-0\",\n                    children: \"The doctor has no available appointments for this day.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Select Services (Appointment Type)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: doctorServices.map(service => /*#__PURE__*/_jsxDEV(Form.Check, {\n                    type: \"checkbox\",\n                    label: service.name,\n                    onChange: () => handleServiceChange(service),\n                    checked: selectedServices.some(s => s.appointment_type === service.name),\n                    disabled: service.availability === 'Not Available' || service.availability === 'Coming Soon'\n                  }, service._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  children: \"Primary Concern\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  placeholder: \"Enter Reason\",\n                  value: reason,\n                  onChange: e => setReason(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Step 2: Finalizing Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ticket-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ticket-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ticket-left\",\n                children: [date && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(Container, {\n                    className: \"pt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"ticket-month\",\n                      children: formatTicketDate(date).month\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"ticket-num\",\n                      children: formatTicketDate(date).day\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"ticket-month\",\n                      children: formatTicketDate(date).dayOfWeek\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ticket-up-border\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ticket-down-border\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ticket-right\",\n                children: [/*#__PURE__*/_jsxDEV(Container, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"ticket-event\",\n                    children: \"Appointment Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Container, {\n                  className: \"d-flex align-items-center m-0 pb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ticket-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-table\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0 px-2\",\n                    children: [formatTicketDate(date).month, \" \", formatTicketDate(date).day, \", \", formatTicketDate(date).year, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 137\n                    }, this), \" \", time]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Container, {\n                  className: \"d-flex align-items-center m-0 pb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ticket-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-info-circle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0 px-2 \",\n                    children: [\"Primary Concern: \", reason]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fix\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Container, {\n                  className: \"d-flex align-items-center m-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ticket-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-stethoscope\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0 px-2\",\n                    children: [\"Services: \", selectedServices.map(service => service.appointment_type).join(\", \")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mt-4\",\n        children: [step > 1 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handlePrevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), step < 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex w-100 justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleNextStep,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this), step === 2 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: createAppointment,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(AppointmentForm, \"TsEI5o/ggF7V8lKkDvWNmc+EyZY=\", false, function () {\n  return [useNavigate];\n});\n_c = AppointmentForm;\nexport default AppointmentForm;\nvar _c;\n$RefreshReg$(_c, \"AppointmentForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Container","Row","Col","Button","Form","Alert","axios","PassFill","CheckAll","Helmet","ip","jsxDEV","_jsxDEV","Fragment","_Fragment","AppointmentForm","pid","did","_s","navigate","step","setStep","date","setDate","time","setTime","reason","setReason","availableTimes","setAvailableTimes","availability","setAvailability","doctorName","setDoctorName","doctorServices","setDoctorServices","selectedServices","setSelectedServices","get","address","then","response","doctor","data","dr_firstName","dr_lastName","dr_services","catch","err","console","log","formatTicketDate","dateString","Date","day","String","getDate","padStart","dayOfWeek","toLocaleString","weekday","month","year","getFullYear","formatTime","timeString","hours","minutes","split","setHours","setMinutes","toLocaleTimeString","hour","minute","hour12","selectedDate","daysOfWeek","getDay","getAvailableTimes","_dayAvailability$morn","_dayAvailability$afte","dayAvailability","times","morning","available","startTime","endTime","push","label","timeRange","afternoon","handleServiceChange","service","prevSelected","isSelected","some","s","appointment_type","name","filter","category","createAppointment","window","alert","formData","post","location","reload","message","getTodayDate","today","toISOString","handleNextStep","length","handlePrevStep","todayDate","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","fontWeight","fontSize","size","Group","as","Label","Control","type","placeholder","min","value","onChange","e","target","map","timeSlot","index","variant","onClick","Check","checked","disabled","_id","join","_c","$RefreshReg$"],"sources":["E:/School/School/Integrative Programming/medical-appointment/src/components/patient/doctorprofile/AppointmentForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Container, Row, Col, Button, Form, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { PassFill, CheckAll } from \"react-bootstrap-icons\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { ip } from \"../../../ContentExport\";\r\nfunction AppointmentForm({pid , did}) {\r\n  const navigate = useNavigate();\r\n\r\n  const [step, setStep] = useState(1);\r\n  const [date, setDate] = useState(\"\");\r\n  const [time, setTime] = useState(\"\");\r\n  const [reason, setReason] = useState(\"\");\r\n  const [availableTimes, setAvailableTimes] = useState([]);\r\n  const [availability, setAvailability] = useState({});\r\n  const [doctorName, setDoctorName] = useState(\"\");\r\n  const [doctorServices, setDoctorServices] = useState([]);\r\n  const [selectedServices, setSelectedServices] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch doctor's services, availability, and name\r\n    axios\r\n      .get(`${ip.address}/doctor/${did}`)\r\n      .then((response) => {\r\n        const doctor = response.data.doctor;\r\n        setDoctorName(`${doctor.dr_firstName} ${doctor.dr_lastName}`);\r\n        setDoctorServices(doctor.dr_services || []);\r\n        setAvailability(doctor.availability || {});\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [did]);\r\n\r\n  const formatTicketDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n  \r\n    const day = String(date.getDate()).padStart(2, '0'); // Get day\r\n    const dayOfWeek = date.toLocaleString('default', { weekday: 'short' }); // Get weekday abbreviation (e.g., Sat)\r\n    const month = date.toLocaleString('default', { month: 'long' }); // Get full month name (e.g., September)\r\n    const year = date.getFullYear(); // Get year\r\n  \r\n    return { day, dayOfWeek, month, year };\r\n  };\r\n  \r\n  const formatTime = (timeString) => {\r\n    if (!timeString) return \"\"; // Handle cases where time is not provided or is invalid\r\n  \r\n    // Split the time string into hours and minutes (handle both \"HH:MM\" and \"HH:MM:SS\")\r\n    const [hours, minutes] = timeString.split(':');\r\n    const time = new Date();\r\n    time.setHours(hours);\r\n    time.setMinutes(minutes);\r\n  \r\n    // Return the time in 12-hour format with AM/PM\r\n    return time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: true });\r\n  };\r\n  \r\n  \r\n  \r\n  \r\n\r\n  useEffect(() => {\r\n    if (date) {\r\n      const selectedDate = new Date(date);\r\n      const daysOfWeek = [\r\n        \"sunday\",\r\n        \"monday\",\r\n        \"tuesday\",\r\n        \"wednesday\",\r\n        \"thursday\",\r\n        \"friday\",\r\n        \"saturday\",\r\n      ];\r\n      const day = daysOfWeek[selectedDate.getDay()];\r\n      setAvailableTimes(getAvailableTimes(day));\r\n    } else {\r\n      setAvailableTimes([]);\r\n    }\r\n  }, [date, availability]);\r\n\r\n  const getAvailableTimes = (day) => {\r\n    const dayAvailability = availability[day];\r\n    if (!dayAvailability) return [];\r\n  \r\n    let times = [];\r\n    if (dayAvailability.morning?.available) {\r\n      // Convert both start and end times to 12-hour format\r\n      const startTime = formatTime(dayAvailability.morning.startTime);\r\n      const endTime = formatTime(dayAvailability.morning.endTime);\r\n  \r\n      times.push({\r\n        label: \"Morning\",\r\n        timeRange: `${startTime} - ${endTime}`,\r\n      });\r\n    }\r\n    if (dayAvailability.afternoon?.available) {\r\n      // Convert both start and end times to 12-hour format\r\n      const startTime = formatTime(dayAvailability.afternoon.startTime);\r\n      const endTime = formatTime(dayAvailability.afternoon.endTime);\r\n  \r\n      times.push({\r\n        label: \"Afternoon\",\r\n        timeRange: `${startTime} - ${endTime}`,\r\n      });\r\n    }\r\n    return times;\r\n  };\r\n  \r\n\r\n// Function to handle checkbox change for services\r\n  const handleServiceChange = (service) => {\r\n    setSelectedServices((prevSelected) => {\r\n        const isSelected = prevSelected.some(s => s.appointment_type === service.name);\r\n        \r\n        if (isSelected) {\r\n            // If already selected, remove the service from the selected services\r\n            return prevSelected.filter((s) => s.appointment_type !== service.name);\r\n        } else {\r\n            // If not selected, add the service as an object { appointment_type, category }\r\n            return [...prevSelected, { appointment_type: service.name, category: service.category }];\r\n        }\r\n    });\r\n  };\r\n\r\n\r\n// Function to create an appointment\r\nconst createAppointment = () => {\r\n  if (!date) {\r\n      window.alert(\"Please select a valid date for the appointment.\");\r\n      return;\r\n  }\r\n\r\n  // Create the appointment data\r\n  const formData = {\r\n      doctor: did || null, // doctorId can be null if optional\r\n      date,\r\n      time: time || null,\r\n      reason,\r\n      appointment_type: selectedServices, // Ensure selectedServices contains objects with appointment_type and category\r\n  };\r\n\r\n  axios.post(`${ip.address}/patient/api/${pid}/createappointment`, formData)\r\n      .then(() => {\r\n          window.alert(\"Created an appointment!\");\r\n          window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n          if (err.response) {\r\n              console.log(err.response.data);\r\n              window.alert(`Error: ${err.response.data.message}`);\r\n          } else {\r\n              console.log(err);\r\n              window.alert('An error occurred while creating the appointment.');\r\n          }\r\n      });\r\n};\r\n\r\n\r\n  const getTodayDate = () => {\r\n    const today = new Date();\r\n    return today.toISOString().split(\"T\")[0];\r\n  };\r\n\r\n  const handleNextStep = () => {\r\n    if (\r\n      step === 1 &&\r\n      (!date || !time || !reason || selectedServices.length === 0)\r\n    ) {\r\n      window.alert(\"Please fill out all fields.\");\r\n      return;\r\n    }\r\n    setStep(step + 1);\r\n  };\r\n\r\n  const handlePrevStep = () => {\r\n    setStep(step - 1);\r\n  };\r\n\r\n  const todayDate = getTodayDate();\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Molino Care | Patient</title>\r\n      </Helmet>\r\n      <Container className=\"appointment-form-container\">\r\n       \r\n        <div className=\"d-flex\">\r\n          <p className=\"m-0\" style={{fontWeight:'600', fontSize:'20px'}}>Book an Appointment</p>\r\n       \r\n        </div>\r\n        <hr/>\r\n        \r\n\r\n        <Container className=\"pt-2 pb-3\">\r\n          <div className=\"mt-3 steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x padding-bottom-1x\">\r\n            <div\r\n              className={`step ${step >= 1 ? \"completed\" : \"\"} ${\r\n                step === 1 ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"step-icon-wrap\">\r\n                <div className=\"step-icon\">\r\n                  <PassFill size={20} />\r\n                </div>\r\n              </div>\r\n              <h4 className=\"step-title\">Fill Out the Form</h4>\r\n            </div>\r\n            <div\r\n              className={`step ${step === 2 ? \"completed\" : \"\"} ${\r\n                step === 2 ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"step-icon-wrap\">\r\n                <div className=\"step-icon\">\r\n                  <CheckAll size={20} />\r\n                </div>\r\n              </div>\r\n              <h4 className=\"step-title\">Finalizing Information</h4>\r\n            </div>\r\n          </div>\r\n\r\n        </Container>\r\n        \r\n\r\n        {step === 1 && (\r\n          <div>\r\n            <h6>Step 1: Fill Out the Form</h6>\r\n\r\n            <Container>\r\n\r\n           \r\n            <Form>\r\n              <Row>\r\n                <Col>\r\n                <Form.Group as={Col} className=\"mb-3\">\r\n                  <Form.Label style={{fontWeight:'600'}} >Date</Form.Label>\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    placeholder=\"Enter Date\"\r\n                    min={todayDate}\r\n                    value={date}\r\n                    onChange={(e) => setDate(e.target.value)}\r\n                    className=\"form-appointment\"\r\n                  />\r\n                </Form.Group>\r\n                \r\n                </Col>\r\n\r\n              </Row>\r\n\r\n              {availableTimes.length > 0 ? (\r\n                <Row>\r\n                  <Form.Group as={Col} className=\"mb-5 \">\r\n                    <Form.Label style={{fontWeight:'600'}} className=\"m-0 \">Time</Form.Label>\r\n                    <center>\r\n                      {availableTimes.map((timeSlot, index) => (\r\n                        <Button\r\n                          key={index}\r\n                          variant={\r\n                            time === timeSlot.timeRange\r\n                              ? \"secondary\"\r\n                              : \"outline-primary\"\r\n                          }\r\n                          onClick={() => setTime(timeSlot.timeRange)}\r\n                          className=\"m-1\"\r\n                        >\r\n                          {timeSlot.label}: {timeSlot.timeRange}\r\n                        </Button>\r\n                      ))}\r\n                    </center>\r\n                  </Form.Group>\r\n                </Row>\r\n              ) : (\r\n                <Row>\r\n                  <Form.Group as={Col} className=\"mb-3\">\r\n                    <Form.Label style={{fontWeight:'600'}}>Time</Form.Label>\r\n                    <Alert>\r\n                   \r\n                        <h6 className=\"m-0\">The doctor has no available appointments for this day.</h6>\r\n                      \r\n                    </Alert>\r\n                      \r\n              \r\n                  \r\n                  </Form.Group>\r\n                </Row>\r\n              )}\r\n\r\n              \r\n\r\n              {/* Add doctor's services as checkboxes */}\r\n              <Row>\r\n                      <Form.Group as={Col} className=\"mb-3\">\r\n                <Form.Label>Select Services (Appointment Type)</Form.Label>\r\n                <div>\r\n                    {doctorServices.map(service => (\r\n                        <Form.Check\r\n                            key={service._id}\r\n                            type=\"checkbox\"\r\n                            label={service.name}\r\n                            onChange={() => handleServiceChange(service)}\r\n                            checked={selectedServices.some(s => s.appointment_type === service.name)}\r\n                            disabled={service.availability === 'Not Available' || service.availability === 'Coming Soon'}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </Form.Group>\r\n\r\n               \r\n                <Form.Group as={Col} className=\"mb-3\">\r\n                  <Form.Label style={{fontWeight:'600'}}>Primary Concern</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    placeholder=\"Enter Reason\"\r\n                    value={reason}\r\n                    onChange={(e) => setReason(e.target.value)}\r\n                  />\r\n                </Form.Group>\r\n          \r\n              </Row>\r\n\r\n             \r\n            </Form>\r\n            </Container>\r\n          </div>\r\n        )}\r\n\r\n        {step === 2 && (\r\n          <>\r\n          <h6 >Step 2: Finalizing Information</h6>\r\n          <Container >\r\n            \r\n            <div className=\"ticket-container\">\r\n              <div className=\"ticket-item\">\r\n                <div className=\"ticket-left\">\r\n                  {/* Format the date with the helper function */}\r\n                  {date && (\r\n                    <>\r\n                    <Container className=\"pt-4\">\r\n                      <p className=\"ticket-month\">{formatTicketDate(date).month}</p>\r\n                      <h2 className=\"ticket-num\">{formatTicketDate(date).day}</h2>\r\n                      <p className=\"ticket-month\">{formatTicketDate(date).dayOfWeek}</p>\r\n                      \r\n                    </Container>\r\n                    </>\r\n                  )}\r\n                  <span className=\"ticket-up-border\"></span>\r\n                  <span className=\"ticket-down-border\"></span>\r\n                </div>\r\n                <div className=\"ticket-right\">\r\n                  <Container>\r\n                    <p className=\"ticket-event\">Appointment Details</p>\r\n                    <hr/>\r\n                  </Container>\r\n                  \r\n                  <Container className=\"d-flex align-items-center m-0 pb-3\">\r\n                    <div className=\"ticket-icon\">\r\n                      <i className=\"fa fa-table\"></i>\r\n                    </div>\r\n                    <p  className=\"m-0 px-2\">{formatTicketDate(date).month} {formatTicketDate(date).day}, {formatTicketDate(date).year} <br /> {time}</p>\r\n                  </Container>\r\n\r\n                  <Container  className=\"d-flex align-items-center m-0 pb-3\">\r\n                    <div className=\"ticket-icon\">\r\n                      <i className=\"fa fa-info-circle\"></i>\r\n                    </div>\r\n                    <p  className=\"m-0 px-2 \">Primary Concern: {reason}</p>\r\n                  </Container>\r\n\r\n                  <div className=\"fix\"></div>\r\n                    <Container className=\"d-flex align-items-center m-0\">\r\n                      <div className=\"ticket-icon\">\r\n                        <i className=\"fa fa-stethoscope\"></i>\r\n                      </div>\r\n                      {/* Map over selectedServices to extract appointment_type */}\r\n                      <p className=\"m-0 px-2\">Services: {selectedServices.map(service => service.appointment_type).join(\", \")}</p>\r\n                    </Container>\r\n\r\n                </div> \r\n              </div>\r\n            </div>\r\n          </Container>\r\n          </>)}\r\n\r\n\r\n\r\n        <div className=\"d-flex justify-content-between mt-4\">\r\n          {step > 1 && (\r\n            <Button variant=\"secondary\" onClick={handlePrevStep}>\r\n              Previous\r\n            </Button>\r\n          )}\r\n          {step < 2 && (\r\n            <div className=\"d-flex w-100 justify-content-end\">\r\n          <Button variant=\"primary\" onClick={handleNextStep}>\r\n                        Next\r\n                      </Button>\r\n            </div>\r\n           \r\n          )}\r\n          {step === 2 && (\r\n            <Button variant=\"success\" onClick={createAppointment}>\r\n              Submit\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AppointmentForm;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,KAAK,QAAQ,iBAAiB;AAC1E,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,uBAAuB;AAC1D,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,EAAE,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAC5C,SAASC,eAAeA,CAAC;EAACC,GAAG;EAAGC;AAAG,CAAC,EAAE;EAAAC,EAAA;EACpC,MAAMC,QAAQ,GAAGrB,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACsB,IAAI,EAAEC,OAAO,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAAC0B,IAAI,EAAEC,OAAO,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC4B,IAAI,EAAEC,OAAO,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC8B,MAAM,EAAEC,SAAS,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACgC,cAAc,EAAEC,iBAAiB,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACkC,YAAY,EAAEC,eAAe,CAAC,GAAGnC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpD,MAAM,CAACoC,UAAU,EAAEC,aAAa,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACsC,cAAc,EAAEC,iBAAiB,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACwC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EAE5DC,SAAS,CAAC,MAAM;IACd;IACAS,KAAK,CACFgC,GAAG,CAAC,GAAG5B,EAAE,CAAC6B,OAAO,WAAWtB,GAAG,EAAE,CAAC,CAClCuB,IAAI,CAAEC,QAAQ,IAAK;MAClB,MAAMC,MAAM,GAAGD,QAAQ,CAACE,IAAI,CAACD,MAAM;MACnCT,aAAa,CAAC,GAAGS,MAAM,CAACE,YAAY,IAAIF,MAAM,CAACG,WAAW,EAAE,CAAC;MAC7DV,iBAAiB,CAACO,MAAM,CAACI,WAAW,IAAI,EAAE,CAAC;MAC3Cf,eAAe,CAACW,MAAM,CAACZ,YAAY,IAAI,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC,CACDiB,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACN,CAAC,EAAE,CAAC/B,GAAG,CAAC,CAAC;EAET,MAAMkC,gBAAgB,GAAIC,UAAU,IAAK;IACvC,MAAM9B,IAAI,GAAG,IAAI+B,IAAI,CAACD,UAAU,CAAC;IAEjC,MAAME,GAAG,GAAGC,MAAM,CAACjC,IAAI,CAACkC,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACrD,MAAMC,SAAS,GAAGpC,IAAI,CAACqC,cAAc,CAAC,SAAS,EAAE;MAAEC,OAAO,EAAE;IAAQ,CAAC,CAAC,CAAC,CAAC;IACxE,MAAMC,KAAK,GAAGvC,IAAI,CAACqC,cAAc,CAAC,SAAS,EAAE;MAAEE,KAAK,EAAE;IAAO,CAAC,CAAC,CAAC,CAAC;IACjE,MAAMC,IAAI,GAAGxC,IAAI,CAACyC,WAAW,CAAC,CAAC,CAAC,CAAC;;IAEjC,OAAO;MAAET,GAAG;MAAEI,SAAS;MAAEG,KAAK;MAAEC;IAAK,CAAC;EACxC,CAAC;EAED,MAAME,UAAU,GAAIC,UAAU,IAAK;IACjC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAE,CAAC,CAAC;;IAE5B;IACA,MAAM,CAACC,KAAK,EAAEC,OAAO,CAAC,GAAGF,UAAU,CAACG,KAAK,CAAC,GAAG,CAAC;IAC9C,MAAM5C,IAAI,GAAG,IAAI6B,IAAI,CAAC,CAAC;IACvB7B,IAAI,CAAC6C,QAAQ,CAACH,KAAK,CAAC;IACpB1C,IAAI,CAAC8C,UAAU,CAACH,OAAO,CAAC;;IAExB;IACA,OAAO3C,IAAI,CAAC+C,kBAAkB,CAAC,EAAE,EAAE;MAAEC,IAAI,EAAE,SAAS;MAAEC,MAAM,EAAE,SAAS;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;EAC1F,CAAC;EAMD7E,SAAS,CAAC,MAAM;IACd,IAAIyB,IAAI,EAAE;MACR,MAAMqD,YAAY,GAAG,IAAItB,IAAI,CAAC/B,IAAI,CAAC;MACnC,MAAMsD,UAAU,GAAG,CACjB,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,WAAW,EACX,UAAU,EACV,QAAQ,EACR,UAAU,CACX;MACD,MAAMtB,GAAG,GAAGsB,UAAU,CAACD,YAAY,CAACE,MAAM,CAAC,CAAC,CAAC;MAC7ChD,iBAAiB,CAACiD,iBAAiB,CAACxB,GAAG,CAAC,CAAC;IAC3C,CAAC,MAAM;MACLzB,iBAAiB,CAAC,EAAE,CAAC;IACvB;EACF,CAAC,EAAE,CAACP,IAAI,EAAEQ,YAAY,CAAC,CAAC;EAExB,MAAMgD,iBAAiB,GAAIxB,GAAG,IAAK;IAAA,IAAAyB,qBAAA,EAAAC,qBAAA;IACjC,MAAMC,eAAe,GAAGnD,YAAY,CAACwB,GAAG,CAAC;IACzC,IAAI,CAAC2B,eAAe,EAAE,OAAO,EAAE;IAE/B,IAAIC,KAAK,GAAG,EAAE;IACd,KAAAH,qBAAA,GAAIE,eAAe,CAACE,OAAO,cAAAJ,qBAAA,eAAvBA,qBAAA,CAAyBK,SAAS,EAAE;MACtC;MACA,MAAMC,SAAS,GAAGrB,UAAU,CAACiB,eAAe,CAACE,OAAO,CAACE,SAAS,CAAC;MAC/D,MAAMC,OAAO,GAAGtB,UAAU,CAACiB,eAAe,CAACE,OAAO,CAACG,OAAO,CAAC;MAE3DJ,KAAK,CAACK,IAAI,CAAC;QACTC,KAAK,EAAE,SAAS;QAChBC,SAAS,EAAE,GAAGJ,SAAS,MAAMC,OAAO;MACtC,CAAC,CAAC;IACJ;IACA,KAAAN,qBAAA,GAAIC,eAAe,CAACS,SAAS,cAAAV,qBAAA,eAAzBA,qBAAA,CAA2BI,SAAS,EAAE;MACxC;MACA,MAAMC,SAAS,GAAGrB,UAAU,CAACiB,eAAe,CAACS,SAAS,CAACL,SAAS,CAAC;MACjE,MAAMC,OAAO,GAAGtB,UAAU,CAACiB,eAAe,CAACS,SAAS,CAACJ,OAAO,CAAC;MAE7DJ,KAAK,CAACK,IAAI,CAAC;QACTC,KAAK,EAAE,WAAW;QAClBC,SAAS,EAAE,GAAGJ,SAAS,MAAMC,OAAO;MACtC,CAAC,CAAC;IACJ;IACA,OAAOJ,KAAK;EACd,CAAC;;EAGH;EACE,MAAMS,mBAAmB,GAAIC,OAAO,IAAK;IACvCvD,mBAAmB,CAAEwD,YAAY,IAAK;MAClC,MAAMC,UAAU,GAAGD,YAAY,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,gBAAgB,KAAKL,OAAO,CAACM,IAAI,CAAC;MAE9E,IAAIJ,UAAU,EAAE;QACZ;QACA,OAAOD,YAAY,CAACM,MAAM,CAAEH,CAAC,IAAKA,CAAC,CAACC,gBAAgB,KAAKL,OAAO,CAACM,IAAI,CAAC;MAC1E,CAAC,MAAM;QACH;QACA,OAAO,CAAC,GAAGL,YAAY,EAAE;UAAEI,gBAAgB,EAAEL,OAAO,CAACM,IAAI;UAAEE,QAAQ,EAAER,OAAO,CAACQ;QAAS,CAAC,CAAC;MAC5F;IACJ,CAAC,CAAC;EACJ,CAAC;;EAGH;EACA,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAI,CAAC/E,IAAI,EAAE;MACPgF,MAAM,CAACC,KAAK,CAAC,iDAAiD,CAAC;MAC/D;IACJ;;IAEA;IACA,MAAMC,QAAQ,GAAG;MACb9D,MAAM,EAAEzB,GAAG,IAAI,IAAI;MAAE;MACrBK,IAAI;MACJE,IAAI,EAAEA,IAAI,IAAI,IAAI;MAClBE,MAAM;MACNuE,gBAAgB,EAAE7D,gBAAgB,CAAE;IACxC,CAAC;IAED9B,KAAK,CAACmG,IAAI,CAAC,GAAG/F,EAAE,CAAC6B,OAAO,gBAAgBvB,GAAG,oBAAoB,EAAEwF,QAAQ,CAAC,CACrEhE,IAAI,CAAC,MAAM;MACR8D,MAAM,CAACC,KAAK,CAAC,yBAAyB,CAAC;MACvCD,MAAM,CAACI,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC5B,CAAC,CAAC,CACD5D,KAAK,CAAEC,GAAG,IAAK;MACZ,IAAIA,GAAG,CAACP,QAAQ,EAAE;QACdQ,OAAO,CAACC,GAAG,CAACF,GAAG,CAACP,QAAQ,CAACE,IAAI,CAAC;QAC9B2D,MAAM,CAACC,KAAK,CAAC,UAAUvD,GAAG,CAACP,QAAQ,CAACE,IAAI,CAACiE,OAAO,EAAE,CAAC;MACvD,CAAC,MAAM;QACH3D,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBsD,MAAM,CAACC,KAAK,CAAC,mDAAmD,CAAC;MACrE;IACJ,CAAC,CAAC;EACR,CAAC;EAGC,MAAMM,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,KAAK,GAAG,IAAIzD,IAAI,CAAC,CAAC;IACxB,OAAOyD,KAAK,CAACC,WAAW,CAAC,CAAC,CAAC3C,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC1C,CAAC;EAED,MAAM4C,cAAc,GAAGA,CAAA,KAAM;IAC3B,IACE5F,IAAI,KAAK,CAAC,KACT,CAACE,IAAI,IAAI,CAACE,IAAI,IAAI,CAACE,MAAM,IAAIU,gBAAgB,CAAC6E,MAAM,KAAK,CAAC,CAAC,EAC5D;MACAX,MAAM,CAACC,KAAK,CAAC,6BAA6B,CAAC;MAC3C;IACF;IACAlF,OAAO,CAACD,IAAI,GAAG,CAAC,CAAC;EACnB,CAAC;EAED,MAAM8F,cAAc,GAAGA,CAAA,KAAM;IAC3B7F,OAAO,CAACD,IAAI,GAAG,CAAC,CAAC;EACnB,CAAC;EAED,MAAM+F,SAAS,GAAGN,YAAY,CAAC,CAAC;EAEhC,oBACEjG,OAAA,CAAAE,SAAA;IAAAsG,QAAA,gBACExG,OAAA,CAACH,MAAM;MAAA2G,QAAA,eACLxG,OAAA;QAAAwG,QAAA,EAAO;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B,CAAC,eACT5G,OAAA,CAACZ,SAAS;MAACyH,SAAS,EAAC,4BAA4B;MAAAL,QAAA,gBAE/CxG,OAAA;QAAK6G,SAAS,EAAC,QAAQ;QAAAL,QAAA,eACrBxG,OAAA;UAAG6G,SAAS,EAAC,KAAK;UAACC,KAAK,EAAE;YAACC,UAAU,EAAC,KAAK;YAAEC,QAAQ,EAAC;UAAM,CAAE;UAAAR,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEnF,CAAC,eACN5G,OAAA;QAAAyG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGL5G,OAAA,CAACZ,SAAS;QAACyH,SAAS,EAAC,WAAW;QAAAL,QAAA,eAC9BxG,OAAA;UAAK6G,SAAS,EAAC,qGAAqG;UAAAL,QAAA,gBAClHxG,OAAA;YACE6G,SAAS,EAAE,QAAQrG,IAAI,IAAI,CAAC,GAAG,WAAW,GAAG,EAAE,IAC7CA,IAAI,KAAK,CAAC,GAAG,QAAQ,GAAG,EAAE,EACzB;YAAAgG,QAAA,gBAEHxG,OAAA;cAAK6G,SAAS,EAAC,gBAAgB;cAAAL,QAAA,eAC7BxG,OAAA;gBAAK6G,SAAS,EAAC,WAAW;gBAAAL,QAAA,eACxBxG,OAAA,CAACL,QAAQ;kBAACsH,IAAI,EAAE;gBAAG;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN5G,OAAA;cAAI6G,SAAS,EAAC,YAAY;cAAAL,QAAA,EAAC;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACN5G,OAAA;YACE6G,SAAS,EAAE,QAAQrG,IAAI,KAAK,CAAC,GAAG,WAAW,GAAG,EAAE,IAC9CA,IAAI,KAAK,CAAC,GAAG,QAAQ,GAAG,EAAE,EACzB;YAAAgG,QAAA,gBAEHxG,OAAA;cAAK6G,SAAS,EAAC,gBAAgB;cAAAL,QAAA,eAC7BxG,OAAA;gBAAK6G,SAAS,EAAC,WAAW;gBAAAL,QAAA,eACxBxG,OAAA,CAACJ,QAAQ;kBAACqH,IAAI,EAAE;gBAAG;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN5G,OAAA;cAAI6G,SAAS,EAAC,YAAY;cAAAL,QAAA,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEG,CAAC,EAGXpG,IAAI,KAAK,CAAC,iBACTR,OAAA;QAAAwG,QAAA,gBACExG,OAAA;UAAAwG,QAAA,EAAI;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAElC5G,OAAA,CAACZ,SAAS;UAAAoH,QAAA,eAGVxG,OAAA,CAACR,IAAI;YAAAgH,QAAA,gBACHxG,OAAA,CAACX,GAAG;cAAAmH,QAAA,eACFxG,OAAA,CAACV,GAAG;gBAAAkH,QAAA,eACJxG,OAAA,CAACR,IAAI,CAAC0H,KAAK;kBAACC,EAAE,EAAE7H,GAAI;kBAACuH,SAAS,EAAC,MAAM;kBAAAL,QAAA,gBACnCxG,OAAA,CAACR,IAAI,CAAC4H,KAAK;oBAACN,KAAK,EAAE;sBAACC,UAAU,EAAC;oBAAK,CAAE;oBAAAP,QAAA,EAAE;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC,eACzD5G,OAAA,CAACR,IAAI,CAAC6H,OAAO;oBACXC,IAAI,EAAC,MAAM;oBACXC,WAAW,EAAC,YAAY;oBACxBC,GAAG,EAAEjB,SAAU;oBACfkB,KAAK,EAAE/G,IAAK;oBACZgH,QAAQ,EAAGC,CAAC,IAAKhH,OAAO,CAACgH,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;oBACzCZ,SAAS,EAAC;kBAAkB;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC7B,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAER;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEH,CAAC,EAEL5F,cAAc,CAACqF,MAAM,GAAG,CAAC,gBACxBrG,OAAA,CAACX,GAAG;cAAAmH,QAAA,eACFxG,OAAA,CAACR,IAAI,CAAC0H,KAAK;gBAACC,EAAE,EAAE7H,GAAI;gBAACuH,SAAS,EAAC,OAAO;gBAAAL,QAAA,gBACpCxG,OAAA,CAACR,IAAI,CAAC4H,KAAK;kBAACN,KAAK,EAAE;oBAACC,UAAU,EAAC;kBAAK,CAAE;kBAACF,SAAS,EAAC,MAAM;kBAAAL,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACzE5G,OAAA;kBAAAwG,QAAA,EACGxF,cAAc,CAAC6G,GAAG,CAAC,CAACC,QAAQ,EAAEC,KAAK,kBAClC/H,OAAA,CAACT,MAAM;oBAELyI,OAAO,EACLpH,IAAI,KAAKkH,QAAQ,CAACjD,SAAS,GACvB,WAAW,GACX,iBACL;oBACDoD,OAAO,EAAEA,CAAA,KAAMpH,OAAO,CAACiH,QAAQ,CAACjD,SAAS,CAAE;oBAC3CgC,SAAS,EAAC,KAAK;oBAAAL,QAAA,GAEdsB,QAAQ,CAAClD,KAAK,EAAC,IAAE,EAACkD,QAAQ,CAACjD,SAAS;kBAAA,GAThCkD,KAAK;oBAAAtB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAUJ,CACT;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC,gBAEN5G,OAAA,CAACX,GAAG;cAAAmH,QAAA,eACFxG,OAAA,CAACR,IAAI,CAAC0H,KAAK;gBAACC,EAAE,EAAE7H,GAAI;gBAACuH,SAAS,EAAC,MAAM;gBAAAL,QAAA,gBACnCxG,OAAA,CAACR,IAAI,CAAC4H,KAAK;kBAACN,KAAK,EAAE;oBAACC,UAAU,EAAC;kBAAK,CAAE;kBAAAP,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACxD5G,OAAA,CAACP,KAAK;kBAAA+G,QAAA,eAEFxG,OAAA;oBAAI6G,SAAS,EAAC,KAAK;oBAAAL,QAAA,EAAC;kBAAsD;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAE5E,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAIE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CACN,eAKD5G,OAAA,CAACX,GAAG;cAAAmH,QAAA,gBACIxG,OAAA,CAACR,IAAI,CAAC0H,KAAK;gBAACC,EAAE,EAAE7H,GAAI;gBAACuH,SAAS,EAAC,MAAM;gBAAAL,QAAA,gBAC3CxG,OAAA,CAACR,IAAI,CAAC4H,KAAK;kBAAAZ,QAAA,EAAC;gBAAkC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eAC3D5G,OAAA;kBAAAwG,QAAA,EACKlF,cAAc,CAACuG,GAAG,CAAC7C,OAAO,iBACvBhF,OAAA,CAACR,IAAI,CAAC0I,KAAK;oBAEPZ,IAAI,EAAC,UAAU;oBACf1C,KAAK,EAAEI,OAAO,CAACM,IAAK;oBACpBoC,QAAQ,EAAEA,CAAA,KAAM3C,mBAAmB,CAACC,OAAO,CAAE;oBAC7CmD,OAAO,EAAE3G,gBAAgB,CAAC2D,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,gBAAgB,KAAKL,OAAO,CAACM,IAAI,CAAE;oBACzE8C,QAAQ,EAAEpD,OAAO,CAAC9D,YAAY,KAAK,eAAe,IAAI8D,OAAO,CAAC9D,YAAY,KAAK;kBAAc,GALxF8D,OAAO,CAACqD,GAAG;oBAAA5B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAMnB,CACJ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eAGT5G,OAAA,CAACR,IAAI,CAAC0H,KAAK;gBAACC,EAAE,EAAE7H,GAAI;gBAACuH,SAAS,EAAC,MAAM;gBAAAL,QAAA,gBACnCxG,OAAA,CAACR,IAAI,CAAC4H,KAAK;kBAACN,KAAK,EAAE;oBAACC,UAAU,EAAC;kBAAK,CAAE;kBAAAP,QAAA,EAAC;gBAAe;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACnE5G,OAAA,CAACR,IAAI,CAAC6H,OAAO;kBACXF,EAAE,EAAC,UAAU;kBACbI,WAAW,EAAC,cAAc;kBAC1BE,KAAK,EAAE3G,MAAO;kBACd4G,QAAQ,EAAGC,CAAC,IAAK5G,SAAS,CAAC4G,CAAC,CAACC,MAAM,CAACH,KAAK;gBAAE;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5C,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CACN,EAEApG,IAAI,KAAK,CAAC,iBACTR,OAAA,CAAAE,SAAA;QAAAsG,QAAA,gBACAxG,OAAA;UAAAwG,QAAA,EAAK;QAA8B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxC5G,OAAA,CAACZ,SAAS;UAAAoH,QAAA,eAERxG,OAAA;YAAK6G,SAAS,EAAC,kBAAkB;YAAAL,QAAA,eAC/BxG,OAAA;cAAK6G,SAAS,EAAC,aAAa;cAAAL,QAAA,gBAC1BxG,OAAA;gBAAK6G,SAAS,EAAC,aAAa;gBAAAL,QAAA,GAEzB9F,IAAI,iBACHV,OAAA,CAAAE,SAAA;kBAAAsG,QAAA,eACAxG,OAAA,CAACZ,SAAS;oBAACyH,SAAS,EAAC,MAAM;oBAAAL,QAAA,gBACzBxG,OAAA;sBAAG6G,SAAS,EAAC,cAAc;sBAAAL,QAAA,EAAEjE,gBAAgB,CAAC7B,IAAI,CAAC,CAACuC;oBAAK;sBAAAwD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC9D5G,OAAA;sBAAI6G,SAAS,EAAC,YAAY;sBAAAL,QAAA,EAAEjE,gBAAgB,CAAC7B,IAAI,CAAC,CAACgC;oBAAG;sBAAA+D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAC5D5G,OAAA;sBAAG6G,SAAS,EAAC,cAAc;sBAAAL,QAAA,EAAEjE,gBAAgB,CAAC7B,IAAI,CAAC,CAACoC;oBAAS;sBAAA2D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEzD;gBAAC,gBACV,CACH,eACD5G,OAAA;kBAAM6G,SAAS,EAAC;gBAAkB;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC1C5G,OAAA;kBAAM6G,SAAS,EAAC;gBAAoB;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzC,CAAC,eACN5G,OAAA;gBAAK6G,SAAS,EAAC,cAAc;gBAAAL,QAAA,gBAC3BxG,OAAA,CAACZ,SAAS;kBAAAoH,QAAA,gBACRxG,OAAA;oBAAG6G,SAAS,EAAC,cAAc;oBAAAL,QAAA,EAAC;kBAAmB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eACnD5G,OAAA;oBAAAyG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC,eAEZ5G,OAAA,CAACZ,SAAS;kBAACyH,SAAS,EAAC,oCAAoC;kBAAAL,QAAA,gBACvDxG,OAAA;oBAAK6G,SAAS,EAAC,aAAa;oBAAAL,QAAA,eAC1BxG,OAAA;sBAAG6G,SAAS,EAAC;oBAAa;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5B,CAAC,eACN5G,OAAA;oBAAI6G,SAAS,EAAC,UAAU;oBAAAL,QAAA,GAAEjE,gBAAgB,CAAC7B,IAAI,CAAC,CAACuC,KAAK,EAAC,GAAC,EAACV,gBAAgB,CAAC7B,IAAI,CAAC,CAACgC,GAAG,EAAC,IAAE,EAACH,gBAAgB,CAAC7B,IAAI,CAAC,CAACwC,IAAI,EAAC,GAAC,eAAAlD,OAAA;sBAAAyG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,KAAC,EAAChG,IAAI;kBAAA;oBAAA6F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5H,CAAC,eAEZ5G,OAAA,CAACZ,SAAS;kBAAEyH,SAAS,EAAC,oCAAoC;kBAAAL,QAAA,gBACxDxG,OAAA;oBAAK6G,SAAS,EAAC,aAAa;oBAAAL,QAAA,eAC1BxG,OAAA;sBAAG6G,SAAS,EAAC;oBAAmB;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClC,CAAC,eACN5G,OAAA;oBAAI6G,SAAS,EAAC,WAAW;oBAAAL,QAAA,GAAC,mBAAiB,EAAC1F,MAAM;kBAAA;oBAAA2F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9C,CAAC,eAEZ5G,OAAA;kBAAK6G,SAAS,EAAC;gBAAK;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACzB5G,OAAA,CAACZ,SAAS;kBAACyH,SAAS,EAAC,+BAA+B;kBAAAL,QAAA,gBAClDxG,OAAA;oBAAK6G,SAAS,EAAC,aAAa;oBAAAL,QAAA,eAC1BxG,OAAA;sBAAG6G,SAAS,EAAC;oBAAmB;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClC,CAAC,eAEN5G,OAAA;oBAAG6G,SAAS,EAAC,UAAU;oBAAAL,QAAA,GAAC,YAAU,EAAChF,gBAAgB,CAACqG,GAAG,CAAC7C,OAAO,IAAIA,OAAO,CAACK,gBAAgB,CAAC,CAACiD,IAAI,CAAC,IAAI,CAAC;kBAAA;oBAAA7B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEX,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA,eACV,CAAE,eAIN5G,OAAA;QAAK6G,SAAS,EAAC,qCAAqC;QAAAL,QAAA,GACjDhG,IAAI,GAAG,CAAC,iBACPR,OAAA,CAACT,MAAM;UAACyI,OAAO,EAAC,WAAW;UAACC,OAAO,EAAE3B,cAAe;UAAAE,QAAA,EAAC;QAErD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT,EACApG,IAAI,GAAG,CAAC,iBACPR,OAAA;UAAK6G,SAAS,EAAC,kCAAkC;UAAAL,QAAA,eACnDxG,OAAA,CAACT,MAAM;YAACyI,OAAO,EAAC,SAAS;YAACC,OAAO,EAAE7B,cAAe;YAAAI,QAAA,EAAC;UAEvC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAEN,EACApG,IAAI,KAAK,CAAC,iBACTR,OAAA,CAACT,MAAM;UAACyI,OAAO,EAAC,SAAS;UAACC,OAAO,EAAExC,iBAAkB;UAAAe,QAAA,EAAC;QAEtD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA,eACZ,CAAC;AAEP;AAACtG,EAAA,CArZQH,eAAe;EAAA,QACLjB,WAAW;AAAA;AAAAqJ,EAAA,GADrBpI,eAAe;AAuZxB,eAAeA,eAAe;AAAC,IAAAoI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}