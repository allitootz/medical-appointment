{"ast":null,"code":"var _jsxFileName = \"E:\\\\School\\\\School\\\\Integrative Programming\\\\medical-appointment\\\\src\\\\components\\\\patient\\\\patientinformation\\\\Medical Record\\\\PatientMedicalRecord.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Nav, Container } from 'react-bootstrap';\nimport { useLocation, useParams } from 'react-router-dom';\nimport PatientHistory from '../Patient History/PatientHistory';\nimport Prescription from '../Prescription/Prescription'; // Import the new Prescription component\nimport Immunization from '../Immunization/Immunization';\nimport PatientLaboratory from '../Laboratory/PatientLaboratory';\nimport { ip } from '../../../../ContentExport';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PatientMedicalRecord = ({\n  pid\n}) => {\n  _s();\n  console.log('PatientMedicalRecord', pid);\n  const [thePrescriptions, setPrescriptions] = useState([]);\n  const [theHistory, setHistory] = useState([]);\n  const [theImmunization, setImmunization] = useState([]);\n  const [theLaboratory, setLaboratory] = useState([]);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('findings');\n  const handleSelect = selectedKey => {\n    // Update the active tab based on the selected event key\n    setActiveTab(selectedKey);\n  };\n  useEffect(() => {\n    axios.get(`${ip.address}/patient/api/onepatient/${pid}`).then(res => {\n      console.log(res.data); // Log the entire response to understand its structure\n      if (res.data && res.data.thePatient && Array.isArray(res.data.thePatient.patient_appointments)) {\n        setPrescriptions(res.data.thePatient.patient_appointments);\n        setHistory(res.data.thePatient.patient_findings);\n        setImmunization(res.data.thePatient.immunizations);\n        setLaboratory(res.data.thePatient.laboratoryResults);\n      } else {\n        setPrescriptions([]);\n        setHistory([]);\n        setLaboratory([]); // If data is not as expected, set to empty array\n      }\n    }).catch(err => {\n      console.log(err);\n      setError('Failed to fetch prescriptions');\n      setPrescriptions([]); // In case of error, set to empty array\n    });\n  }, [pid]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pnb-component\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        className: \"d-flex p-0\",\n        children: /*#__PURE__*/_jsxDEV(Nav, {\n          fill: true,\n          variant: \"tabs\",\n          className: \"navtabs-pxmanagement\",\n          activeKey: activeTab,\n          onSelect: handleSelect,\n          children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"findings\",\n              children: \"Patient History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"prescription\",\n              children: \"My Prescriptions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"immunization\",\n              children: \"My Immunizations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"laboratory\",\n              children: \"Laboratory Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: `pnb-content ${activeTab === 'findings' ? 'findings-tab' : 'other-tabs'}`,\n        children: [activeTab === 'findings' && /*#__PURE__*/_jsxDEV(PatientHistory, {\n          patientHistory: theHistory,\n          pid: pid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 50\n        }, this), activeTab === 'prescription' && /*#__PURE__*/_jsxDEV(Prescription, {\n          prescriptions: thePrescriptions,\n          pid: pid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 54\n        }, this), activeTab === 'immunization' && /*#__PURE__*/_jsxDEV(Immunization, {\n          immunizations: theImmunization,\n          pid: pid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 54\n        }, this), activeTab === 'laboratory' && /*#__PURE__*/_jsxDEV(PatientLaboratory, {\n          laboratoryResults: theLaboratory,\n          pid: pid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(PatientMedicalRecord, \"FmtVdETbwQDOd9sNgn1d7QRbVU8=\");\n_c = PatientMedicalRecord;\nexport default PatientMedicalRecord;\nvar _c;\n$RefreshReg$(_c, \"PatientMedicalRecord\");","map":{"version":3,"names":["axios","React","useEffect","useState","Nav","Container","useLocation","useParams","PatientHistory","Prescription","Immunization","PatientLaboratory","ip","jsxDEV","_jsxDEV","PatientMedicalRecord","pid","_s","console","log","thePrescriptions","setPrescriptions","theHistory","setHistory","theImmunization","setImmunization","theLaboratory","setLaboratory","error","setError","activeTab","setActiveTab","handleSelect","selectedKey","get","address","then","res","data","thePatient","Array","isArray","patient_appointments","patient_findings","immunizations","laboratoryResults","catch","err","children","className","fill","variant","activeKey","onSelect","Item","Link","eventKey","fileName","_jsxFileName","lineNumber","columnNumber","patientHistory","prescriptions","_c","$RefreshReg$"],"sources":["E:/School/School/Integrative Programming/medical-appointment/src/components/patient/patientinformation/Medical Record/PatientMedicalRecord.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Nav, Container } from 'react-bootstrap';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport PatientHistory from '../Patient History/PatientHistory';\r\nimport Prescription from '../Prescription/Prescription'; // Import the new Prescription component\r\nimport Immunization from '../Immunization/Immunization';\r\nimport PatientLaboratory from '../Laboratory/PatientLaboratory';\r\nimport { ip } from '../../../../ContentExport';\r\nconst PatientMedicalRecord = ({pid}) => {\r\n    console.log('PatientMedicalRecord',pid);\r\n    \r\n    const [thePrescriptions, setPrescriptions] = useState([]);\r\n    const [theHistory, setHistory] = useState([]);\r\n    const [theImmunization, setImmunization] = useState([]);\r\n    const [theLaboratory, setLaboratory] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const [activeTab, setActiveTab] = useState('findings');\r\n\r\n \r\n    const handleSelect = (selectedKey) => {\r\n        // Update the active tab based on the selected event key\r\n        setActiveTab(selectedKey);\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(`${ip.address}/patient/api/onepatient/${pid}`)\r\n            .then((res) => {\r\n                console.log(res.data);  // Log the entire response to understand its structure\r\n                if (res.data && res.data.thePatient && Array.isArray(res.data.thePatient.patient_appointments)) {\r\n                    setPrescriptions(res.data.thePatient.patient_appointments);\r\n                    setHistory(res.data.thePatient.patient_findings);\r\n                    setImmunization(res.data.thePatient.immunizations);\r\n                    setLaboratory(res.data.thePatient.laboratoryResults);\r\n  \r\n                } else {\r\n                    setPrescriptions([]);\r\n                    setHistory([]); \r\n                    setLaboratory([]) // If data is not as expected, set to empty array\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setError('Failed to fetch prescriptions');\r\n                setPrescriptions([]);  // In case of error, set to empty array\r\n            });\r\n    }, [pid]);\r\n\r\n \r\n    \r\n    return (\r\n        <div>\r\n            <div className='pnb-component'>\r\n                <Container className='d-flex p-0'>\r\n                    <Nav fill variant=\"tabs\" className='navtabs-pxmanagement' activeKey={activeTab} onSelect={handleSelect}>\r\n                        <Nav.Item>\r\n                            <Nav.Link eventKey=\"findings\">Patient History</Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link eventKey=\"prescription\">My Prescriptions</Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link eventKey=\"immunization\">My Immunizations</Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link eventKey=\"laboratory\">Laboratory Results</Nav.Link>\r\n                        </Nav.Item>\r\n                    </Nav>\r\n                </Container>\r\n\r\n                {/* Render components based on the active tab */}\r\n                <Container className={`pnb-content ${activeTab === 'findings' ? 'findings-tab' : 'other-tabs'}`}>\r\n                    {activeTab === 'findings' && <PatientHistory patientHistory={theHistory} pid={pid}/>}\r\n                    {activeTab === 'prescription' && <Prescription prescriptions={thePrescriptions} pid={pid} />} \r\n                    {activeTab === 'immunization' && <Immunization immunizations={theImmunization} pid={pid}/>}\r\n                    {activeTab === 'laboratory' && <PatientLaboratory laboratoryResults={theLaboratory} pid={pid}/>}\r\n                </Container>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PatientMedicalRecord;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}